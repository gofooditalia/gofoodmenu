[{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/drizzle.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/example/osteria-menu-redesign.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'navigateCategory' is assigned a value but never used.","line":160,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":160,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'currentIndex' is assigned a value but never used.","line":169,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":169,"endColumn":20}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useRef, useEffect } from 'react';\nimport { UtensilsCrossed, Leaf } from 'lucide-react';\n\nconst MenuRedesign = () => {\n\tconst [activeTab, setActiveTab] = useState('carta');\n\tconst [activeCategory, setActiveCategory] = useState('antipasti');\n\tconst [touchStart, setTouchStart] = useState(0);\n\tconst [touchEnd, setTouchEnd] = useState(0);\n\tconst [isScrolled, setIsScrolled] = useState(false);\n\tconst [hoveredTag, setHoveredTag] = useState(null);\n\tconst contentRef = useRef(null);\n\tconst categoryRefs = useRef({});\n\n\tconst categories = ['antipasti', 'primi', 'secondi', 'contorni', 'dolci'];\n\n\tconst categoryLabels = {\n\t\tantipasti: 'GLI ANTIPASTI',\n\t\tprimi: 'I NOSTRI DELIZIOSI PRIMI',\n\t\tsecondi: 'I SECONDI',\n\t\tcontorni: 'I CONTORNI',\n\t\tdolci: 'I DOLCI'\n\t};\n\n\tuseEffect(() => {\n\t\tconst handleScroll = () => {\n\t\t\tsetIsScrolled(window.scrollY > 100);\n\t\t};\n\n\t\twindow.addEventListener('scroll', handleScroll);\n\t\treturn () => window.removeEventListener('scroll', handleScroll);\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// Scroll the active category button into view\n\t\tconst activeButton = categoryRefs.current[activeCategory];\n\t\tif (activeButton) {\n\t\t\tactiveButton.scrollIntoView({\n\t\t\t\tbehavior: 'smooth',\n\t\t\t\tblock: 'nearest',\n\t\t\t\tinline: 'center'\n\t\t\t});\n\t\t}\n\t}, [activeCategory]);\n\n\tconst menuItems = {\n\t\tantipasti: [\n\t\t\t{\n\t\t\t\tid: 1,\n\t\t\t\tname: 'Patatine fresche fritte',\n\t\t\t\tprice: '4.00',\n\t\t\t\tdescription: '',\n\t\t\t\ttags: ['vegetariano'],\n\t\t\t\tcolor: '#10b981'\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 2,\n\t\t\t\tname: 'Bruschetta classica',\n\t\t\t\tprice: '5.00',\n\t\t\t\tdescription: 'Pomodoro, Olio, Sale, Pepe, Origano',\n\t\t\t\ttags: ['vegetariano'],\n\t\t\t\tcolor: '#10b981'\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 3,\n\t\t\t\tname: 'Antipasto caldo',\n\t\t\t\tprice: '6.00',\n\t\t\t\tdescription:\n\t\t\t\t\t'Patatine Fritte, Arancinette con Carne e Burro, Crostino, Panelline, Crocchè*',\n\t\t\t\ttags: [],\n\t\t\t\tcolor: '#f59e0b'\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 4,\n\t\t\t\tname: 'Antipasto delle fritte',\n\t\t\t\tprice: '7.00',\n\t\t\t\tdescription: 'Verdure Pastellate, Crostino, Tuma, Panelle*, Crocchè*',\n\t\t\t\ttags: ['vegetariano'],\n\t\t\t\tcolor: '#10b981'\n\t\t\t}\n\t\t],\n\t\tprimi: [\n\t\t\t{\n\t\t\t\tid: 5,\n\t\t\t\tname: 'Carbonara',\n\t\t\t\tprice: '12.00',\n\t\t\t\tdescription: 'Guanciale, Uova, Pecorino Romano, Pepe Nero',\n\t\t\t\ttags: [],\n\t\t\t\tcolor: '#f59e0b'\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 6,\n\t\t\t\tname: 'Cacio e Pepe',\n\t\t\t\tprice: '10.00',\n\t\t\t\tdescription: 'Pecorino Romano, Pepe Nero',\n\t\t\t\ttags: ['vegetariano'],\n\t\t\t\tcolor: '#10b981'\n\t\t\t}\n\t\t],\n\t\tsecondi: [\n\t\t\t{\n\t\t\t\tid: 7,\n\t\t\t\tname: 'Saltimbocca alla Romana',\n\t\t\t\tprice: '16.00',\n\t\t\t\tdescription: 'Vitello, Prosciutto, Salvia, Vino Bianco',\n\t\t\t\ttags: [],\n\t\t\t\tcolor: '#f59e0b'\n\t\t\t}\n\t\t],\n\t\tcontorni: [\n\t\t\t{\n\t\t\t\tid: 8,\n\t\t\t\tname: 'Insalata mista',\n\t\t\t\tprice: '5.00',\n\t\t\t\tdescription: 'Lattuga, Pomodori, Olive, Carote',\n\t\t\t\ttags: ['vegetariano'],\n\t\t\t\tcolor: '#10b981'\n\t\t\t}\n\t\t],\n\t\tdolci: [\n\t\t\t{\n\t\t\t\tid: 9,\n\t\t\t\tname: 'Tiramisù',\n\t\t\t\tprice: '6.00',\n\t\t\t\tdescription: 'Savoiardi, Mascarpone, Caffè, Cacao',\n\t\t\t\ttags: ['vegetariano'],\n\t\t\t\tcolor: '#10b981'\n\t\t\t}\n\t\t]\n\t};\n\n\tconst handleTouchStart = (e) => {\n\t\tsetTouchStart(e.targetTouches[0].clientX);\n\t};\n\n\tconst handleTouchMove = (e) => {\n\t\tsetTouchEnd(e.targetTouches[0].clientX);\n\t};\n\n\tconst handleTouchEnd = () => {\n\t\tif (!touchStart || !touchEnd) return;\n\n\t\tconst distance = touchStart - touchEnd;\n\t\tconst isLeftSwipe = distance > 50;\n\t\tconst isRightSwipe = distance < -50;\n\n\t\tconst currentIndex = categories.indexOf(activeCategory);\n\n\t\tif (isLeftSwipe && currentIndex < categories.length - 1) {\n\t\t\tsetActiveCategory(categories[currentIndex + 1]);\n\t\t}\n\n\t\tif (isRightSwipe && currentIndex > 0) {\n\t\t\tsetActiveCategory(categories[currentIndex - 1]);\n\t\t}\n\n\t\tsetTouchStart(0);\n\t\tsetTouchEnd(0);\n\t};\n\n\tconst navigateCategory = (direction) => {\n\t\tconst currentIndex = categories.indexOf(activeCategory);\n\t\tif (direction === 'prev' && currentIndex > 0) {\n\t\t\tsetActiveCategory(categories[currentIndex - 1]);\n\t\t} else if (direction === 'next' && currentIndex < categories.length - 1) {\n\t\t\tsetActiveCategory(categories[currentIndex + 1]);\n\t\t}\n\t};\n\n\tconst currentIndex = categories.indexOf(activeCategory);\n\n\treturn (\n\t\t<div className=\"min-h-screen bg-zinc-900 text-white\">\n\t\t\t{/* Header */}\n\t\t\t<div className=\"sticky top-0 z-50 border-b border-zinc-800 bg-zinc-950\">\n\t\t\t\t<div className=\"mx-auto max-w-4xl px-4 py-4\">\n\t\t\t\t\t<div className=\"mb-4 flex items-center gap-4\">\n\t\t\t\t\t\t{/* Restaurant Icon */}\n\t\t\t\t\t\t<div className=\"flex-shrink-0 rounded-lg bg-orange-500 p-2.5\">\n\t\t\t\t\t\t\t<UtensilsCrossed className=\"h-6 w-6 text-white\" />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Category Pills in Header */}\n\t\t\t\t\t\t<div className=\"scrollbar-hide flex flex-1 gap-3 overflow-x-auto\">\n\t\t\t\t\t\t\t{categories.map((category) => (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tkey={category}\n\t\t\t\t\t\t\t\t\tref={(el) => (categoryRefs.current[category] = el)}\n\t\t\t\t\t\t\t\t\tonClick={() => setActiveCategory(category)}\n\t\t\t\t\t\t\t\t\tclassName={`rounded-full px-5 py-2 text-sm font-medium whitespace-nowrap transition-all ${\n\t\t\t\t\t\t\t\t\t\tactiveCategory === category\n\t\t\t\t\t\t\t\t\t\t\t? 'bg-orange-500 text-white'\n\t\t\t\t\t\t\t\t\t\t\t: 'hover:bg-zinc-750 bg-zinc-800 text-zinc-300'\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{categoryLabels[category]}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Tabs */}\n\t\t\t\t\t<div className=\"flex gap-6 border-b border-zinc-800\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => setActiveTab('carta')}\n\t\t\t\t\t\t\tclassName={`px-1 pb-3 font-medium transition-colors ${\n\t\t\t\t\t\t\t\tactiveTab === 'carta' ? 'border-b-2 border-orange-500 text-white' : 'text-zinc-500'\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tMENU ALLA CARTA\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => setActiveTab('eventi')}\n\t\t\t\t\t\t\tclassName={`px-1 pb-3 font-medium transition-colors ${\n\t\t\t\t\t\t\t\tactiveTab === 'eventi' ? 'border-b-2 border-orange-500 text-white' : 'text-zinc-500'\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEVENTI SPECIALI\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Sticky Category Indicator - Shows when scrolled */}\n\t\t\t\t{isScrolled && (\n\t\t\t\t\t<div className=\"animate-fadeIn border-t border-zinc-800 bg-zinc-900 py-3\">\n\t\t\t\t\t\t<div className=\"mx-auto max-w-4xl px-4\">\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-center\">\n\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium text-orange-500\">\n\t\t\t\t\t\t\t\t\t{categoryLabels[activeCategory]}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{/* Category Navigation */}\n\t\t\t<div className=\"mx-auto max-w-4xl px-4 py-6\">\n\t\t\t\t{/* Menu Items with Swipe */}\n\t\t\t\t<div\n\t\t\t\t\tref={contentRef}\n\t\t\t\t\tonTouchStart={handleTouchStart}\n\t\t\t\t\tonTouchMove={handleTouchMove}\n\t\t\t\t\tonTouchEnd={handleTouchEnd}\n\t\t\t\t\tclassName=\"space-y-4\"\n\t\t\t\t>\n\t\t\t\t\t{menuItems[activeCategory]?.map((item) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\tclassName=\"bg-zinc-850 rounded-xl border border-zinc-800 p-6 transition-all hover:border-zinc-700 hover:shadow-lg\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"flex items-start justify-between gap-4\">\n\t\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"mb-2 flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-white\">{item.name}</h3>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{item.description && (\n\t\t\t\t\t\t\t\t\t\t<p className=\"mb-3 text-sm leading-relaxed text-zinc-400\">{item.description}</p>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{/* Icon Tags with Tooltip - Below description */}\n\t\t\t\t\t\t\t\t\t{item.tags.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t{item.tags.map((tag, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"relative\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseEnter={() => setHoveredTag(`${item.id}-${index}`)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonMouseLeave={() => setHoveredTag(null)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{tag === 'vegetariano' && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"cursor-help rounded-full bg-green-500/20 p-1.5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Leaf className=\"h-4 w-4 text-green-500\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{hoveredTag === `${item.id}-${index}` && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute bottom-full left-1/2 z-10 mb-2 -translate-x-1/2 transform rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-1.5 text-xs whitespace-nowrap text-white shadow-lg\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tVegetariano\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute top-full left-1/2 -mt-1 -translate-x-1/2 transform border-4 border-transparent border-t-zinc-950\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex-shrink-0 text-right\">\n\t\t\t\t\t\t\t\t\t<span className=\"text-2xl font-bold text-orange-500\">{item.price}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\n\t\t\t\t{/* Info Footer */}\n\t\t\t\t<div className=\"bg-zinc-850 mt-8 rounded-xl border border-zinc-800 p-4\">\n\t\t\t\t\t<p className=\"text-xs leading-relaxed text-zinc-500\">\n\t\t\t\t\t\t* Gli ingredienti contrassegnati con asterisco potrebbero contenere allergeni. Per\n\t\t\t\t\t\tinformazioni dettagliate sugli allergeni presenti nei nostri piatti, non esitate a\n\t\t\t\t\t\tchiedere al nostro personale.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Swipe Hint */}\n\t\t\t\t<div className=\"mt-4 text-center\">\n\t\t\t\t\t<p className=\"text-xs text-zinc-600\">← Scorri per navigare tra le categorie →</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<style jsx>{`\n\t\t\t\t.scrollbar-hide::-webkit-scrollbar {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t\t.scrollbar-hide {\n\t\t\t\t\t-ms-overflow-style: none;\n\t\t\t\t\tscrollbar-width: none;\n\t\t\t\t}\n\t\t\t\t@keyframes fadeIn {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\ttransform: translateY(-10px);\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.animate-fadeIn {\n\t\t\t\t\tanimation: fadeIn 0.3s ease-out;\n\t\t\t\t}\n\t\t\t`}</style>\n\t\t</div>\n\t);\n};\n\nexport default MenuRedesign;\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/scripts/apply-sql.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/scripts/check-dishes.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'dishes' is defined but never used.","line":2,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":38}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { db } from '../src/lib/db';\nimport { profiles, categories, dishes } from '../src/lib/db/schema';\nimport { eq } from 'drizzle-orm';\nimport * as dotenv from 'dotenv';\ndotenv.config();\n\nasync function main() {\n\tconst slug = 'demo';\n\tconsole.log(`Checking data for slug: ${slug}`);\n\n\tconst profile = await db.query.profiles.findFirst({\n\t\twhere: eq(profiles.slug, slug)\n\t});\n\n\tif (!profile) {\n\t\tconsole.log('Profile not found');\n\t\treturn;\n\t}\n\n\tconsole.log('Profile ID:', profile.id);\n\n\tconst cats = await db.query.categories.findMany({\n\t\twhere: eq(categories.restaurant_id, profile.id),\n\t\twith: {\n\t\t\tdishes: true\n\t\t}\n\t});\n\n\tconsole.log(`Found ${cats.length} categories`);\n\tcats.forEach((c) => {\n\t\tconsole.log(`Category: ${c.name} (ID: ${c.id}), Dishes: ${c.dishes.length}`);\n\t});\n\n\tprocess.exit(0);\n}\n\nmain();\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/scripts/cleanup-db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/scripts/debug-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/scripts/diag-db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/scripts/diag-deep.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/scripts/import-antipasti.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'path' is defined but never used.","line":9,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":60,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1495,1498],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1495,1498],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":61,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1525,1528],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1525,1528],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { db } from '../src/lib/db';\nimport {\n\tcategories as categoriesTable,\n\tdishes as dishesTable,\n\tprofiles as profilesTable\n} from '../src/lib/db/schema';\nimport { eq, and } from 'drizzle-orm';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nconst PROFILE_SLUG = 'demo';\nconst CATEGORY_NAME = 'Gli Antipasti';\nconst FILE_PATH = './example/GLI ANTIPASTI .txt';\n\nasync function run() {\n\tconsole.log('--- Starting Antipasti Import ---');\n\n\t// 1. Get Profile\n\tconst profile = await db.query.profiles.findFirst({\n\t\twhere: eq(profilesTable.slug, PROFILE_SLUG)\n\t});\n\n\tif (!profile) {\n\t\tconsole.error(`Profile with slug \"${PROFILE_SLUG}\" not found.`);\n\t\tprocess.exit(1);\n\t}\n\n\tconsole.log(`Found Profile: ${profile.restaurant_name} (${profile.id})`);\n\n\t// 2. Get or Create Category\n\tlet category = await db.query.categories.findFirst({\n\t\twhere: and(\n\t\t\teq(categoriesTable.restaurant_id, profile.id),\n\t\t\teq(categoriesTable.name, CATEGORY_NAME)\n\t\t)\n\t});\n\n\tif (!category) {\n\t\tconsole.log(`Category \"${CATEGORY_NAME}\" not found. Creating...`);\n\t\tconst [newCategory] = await db\n\t\t\t.insert(categoriesTable)\n\t\t\t.values({\n\t\t\t\trestaurant_id: profile.id,\n\t\t\t\tname: CATEGORY_NAME,\n\t\t\t\tsort_order: 0\n\t\t\t})\n\t\t\t.returning();\n\t\tcategory = newCategory;\n\t}\n\n\tconsole.log(`Using Category: ${category.name} (${category.id})`);\n\n\t// 3. Parse File\n\tconst content = fs.readFileSync(FILE_PATH, 'utf-8');\n\tconst lines = content\n\t\t.split('\\n')\n\t\t.map((l) => l.trim())\n\t\t.filter((l) => l.length > 0);\n\n\tconst dishes: any[] = [];\n\tlet currentDish: any = null;\n\n\tfor (let i = 1; i < lines.length; i++) {\n\t\tconst line = lines[i];\n\n\t\tif (line.includes('— €')) {\n\t\t\t// New Dish\n\t\t\tconst [name, priceStr] = line.split('— €').map((s) => s.trim());\n\t\t\tconst price = parseFloat(priceStr.replace(',', '.'));\n\n\t\t\tcurrentDish = {\n\t\t\t\trestaurant_id: profile.id,\n\t\t\t\tcategory_id: category.id,\n\t\t\t\tname: name,\n\t\t\t\tprice: price.toString(),\n\t\t\t\tdescription: '',\n\t\t\t\tis_available: true\n\t\t\t};\n\t\t\tdishes.push(currentDish);\n\t\t} else if (currentDish) {\n\t\t\t// It's a description for the previous dish\n\t\t\tcurrentDish.description = line;\n\t\t}\n\t}\n\n\tconsole.log(`Parsed ${dishes.length} dishes.`);\n\n\t// 4. Insert Dishes\n\tfor (const dish of dishes) {\n\t\tconsole.log(`Inserting: ${dish.name} - ${dish.price}€`);\n\t\tawait db.insert(dishesTable).values(dish);\n\t}\n\n\tconsole.log('--- Import Complete ---');\n}\n\nrun().catch(console.error);\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/scripts/run-migrations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/scripts/seed-allergens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/scripts/seed_menu.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'fileURLToPath' is defined but never used.","line":5,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":23}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createClient } from '@supabase/supabase-js';\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport * as dotenv from 'dotenv';\nimport { fileURLToPath } from 'url';\n\n// Load environment variables\ndotenv.config({ path: path.resolve(process.cwd(), '.env') });\n\nconst supabaseUrl = process.env.PUBLIC_SUPABASE_URL;\nconst supabaseKey = process.env.PUBLIC_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl || !supabaseKey) {\n\tconsole.error('Missing Supabase credentials in .env');\n\tprocess.exit(1);\n}\n\nconst supabase = createClient(supabaseUrl, supabaseKey);\n\nconst MENU_FILE_PATH = path.resolve(process.cwd(), 'example/Menu Completo Ristorante.txt');\nconst RESTAURANT_SLUG = 'osteria-romana';\n\nasync function seed() {\n\tconsole.log(`Reading menu from ${MENU_FILE_PATH}...`);\n\tconst rawText = fs.readFileSync(MENU_FILE_PATH, 'utf-8');\n\tconst lines = rawText\n\t\t.split('\\n')\n\t\t.map((l) => l.trim())\n\t\t.filter((l) => l.length > 0);\n\n\t// Get Profile ID\n\tconst { data: profile, error: profileError } = await supabase\n\t\t.from('profiles')\n\t\t.select('id')\n\t\t.eq('slug', RESTAURANT_SLUG)\n\t\t.single();\n\n\tif (profileError || !profile) {\n\t\tconsole.error(`Restaurant with slug \"${RESTAURANT_SLUG}\" not found. Error:`, profileError);\n\t\treturn;\n\t}\n\tconst restaurantId = profile.id;\n\tconsole.log(`Found restaurant ID: ${restaurantId}`);\n\n\t// Delete existing data\n\tconsole.log('Cleaning up old data...');\n\tconst { error: deleteDishesError } = await supabase\n\t\t.from('dishes')\n\t\t.delete()\n\t\t.eq('restaurant_id', restaurantId);\n\tif (deleteDishesError) console.error('Error deleting dishes:', deleteDishesError);\n\n\tconst { error: deleteCatsError } = await supabase\n\t\t.from('categories')\n\t\t.delete()\n\t\t.eq('restaurant_id', restaurantId);\n\tif (deleteCatsError) console.error('Error deleting categories:', deleteCatsError);\n\n\t// Parse and Insert\n\tlet currentCategoryName = '';\n\tlet currentCategoryId = null;\n\n\tfor (let i = 0; i < lines.length; i++) {\n\t\tconst line = lines[i];\n\n\t\tif (line.includes('— €')) {\n\t\t\t// It's a dish\n\t\t\tif (!currentCategoryId) {\n\t\t\t\tconsole.warn(`Skipping dish \"${line}\" because no category is set.`);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst parts = line.split('— €');\n\t\t\tconst name = parts[0].trim();\n\t\t\tlet priceStr = parts[1].trim();\n\t\t\t// Handle cases like \"€4,00\" -> 4.00\n\t\t\tpriceStr = priceStr.replace(',', '.').replace('€', '');\n\t\t\tconst price = parseFloat(priceStr);\n\n\t\t\t// Check next line for description\n\t\t\tlet description = '';\n\t\t\tif (i + 1 < lines.length) {\n\t\t\t\tconst nextLine = lines[i + 1];\n\t\t\t\tif (!nextLine.includes('— €') && !isLikelyCategory(nextLine)) {\n\t\t\t\t\tdescription = nextLine;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst { error: dishError } = await supabase.from('dishes').insert({\n\t\t\t\trestaurant_id: restaurantId,\n\t\t\t\tcategory_id: currentCategoryId,\n\t\t\t\tname: name,\n\t\t\t\tdescription: description,\n\t\t\t\tprice: price,\n\t\t\t\tis_available: true\n\t\t\t});\n\n\t\t\tif (dishError) console.error(`Failed to insert dish ${name}:`, dishError);\n\t\t\telse console.log(`  Added dish: ${name}`);\n\t\t} else {\n\t\t\t// Likely a Category\n\t\t\tif (line.length < 3) continue;\n\t\t\tif (line.includes('PAGINA')) continue;\n\n\t\t\tcurrentCategoryName = line;\n\t\t\tconsole.log(`Creating Category: ${currentCategoryName}`);\n\n\t\t\tconst { data: catData, error: catError } = await supabase\n\t\t\t\t.from('categories')\n\t\t\t\t.insert({\n\t\t\t\t\trestaurant_id: restaurantId,\n\t\t\t\t\tname: currentCategoryName\n\t\t\t\t})\n\t\t\t\t.select()\n\t\t\t\t.single();\n\n\t\t\tif (catError) {\n\t\t\t\tconsole.error(`Failed to create category ${currentCategoryName}:`, catError);\n\t\t\t\tcurrentCategoryId = null;\n\t\t\t} else {\n\t\t\t\tcurrentCategoryId = catData.id;\n\t\t\t}\n\t\t}\n\t}\n\n\tconsole.log('Seeding complete!');\n}\n\nfunction isLikelyCategory(line: string): boolean {\n\t// Simple heuristic\n\treturn line === line.toUpperCase() && line.length > 3;\n}\n\nseed();\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/app.d.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[243,246],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[243,246],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[355,358],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[355,358],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[371,374],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[371,374],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { SupabaseClient, Session } from '@supabase/supabase-js';\n\ndeclare global {\n\tnamespace App {\n\t\t// interface Error {}\n\t\tinterface Locals {\n\t\t\tsupabase: SupabaseClient;\n\t\t\tgetSession(): Promise<Session | null>;\n\t\t\tgetUser(): Promise<any | null>;\n\t\t}\n\t\tinterface PageData {\n\t\t\tsession?: Session | null;\n\t\t\tsupabase?: SupabaseClient;\n\t\t\tprofile?: any;\n\t\t\tstats?: any;\n\t\t}\n\t\t// interface PageState {}\n\t\t// interface Platform {}\n\t}\n}\n\nexport {};\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/hooks.server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/PreviewWrapper.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/Sidebar.svelte","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'restaurantName' is assigned a value but never used.","line":6,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":22},{"ruleId":"svelte/no-navigation-without-resolve","severity":2,"message":"Unexpected href link without resolve().","line":20,"column":12,"nodeType":null,"messageId":"linkWithoutResolve","endLine":20,"endColumn":22},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":26,"column":3,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":43,"endColumn":10},{"ruleId":"svelte/no-navigation-without-resolve","severity":2,"message":"Unexpected href link without resolve().","line":28,"column":10,"nodeType":null,"messageId":"linkWithoutResolve","endLine":28,"endColumn":21}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script lang=\"ts\">\n\timport { Home, Grid, QrCode, LogOut, Store } from 'lucide-svelte';\n\timport { page } from '$app/state';\n\timport { enhance } from '$app/forms';\n\n\tlet { restaurantName = 'Il Tuo Locale' } = $props();\n\n\tconst menuItems = [\n\t\t{ name: 'Dashboard', icon: Home, href: '/dashboard' },\n\t\t{ name: 'Profilo Ristorante', icon: Store, href: '/restaurant-profile' },\n\t\t{ name: 'Gestione Menu', icon: Grid, href: '/menu-management' },\n\t\t{ name: 'QR Code', icon: QrCode, href: '/qr-generator' }\n\t];\n\n\tconst isActive = (path: string) => page.url.pathname.includes(path);\n</script>\n\n<aside class=\"fixed flex h-screen w-64 flex-col bg-slate-900 text-white hidden md:flex\">\n\t<div class=\"p-6\">\n\t\t<a href=\"/dashboard\" class=\"group flex items-center gap-2\">\n\t\t\t<img src=\"/logo.svg\" alt=\"go!foodmenu\" class=\"h-10 w-auto\" />\n\t\t</a>\n\t</div>\n\n\t<nav class=\"mt-4 flex-1 space-y-1 px-4\">\n\t\t{#each menuItems as item}\n\t\t\t<a\n\t\t\t\thref={item.href}\n\t\t\t\tclass=\"group flex items-center gap-3 rounded-xl px-4 py-3 transition-all duration-200 {isActive(\n\t\t\t\t\titem.href\n\t\t\t\t)\n\t\t\t\t\t? 'bg-orange-500 text-white shadow-lg shadow-orange-500/20'\n\t\t\t\t\t: 'text-slate-400 hover:bg-slate-800 hover:text-white'}\"\n\t\t\t>\n\t\t\t\t<item.icon\n\t\t\t\t\tsize={20}\n\t\t\t\t\tclass={isActive(item.href)\n\t\t\t\t\t\t? 'text-white'\n\t\t\t\t\t\t: 'text-slate-500 transition-colors group-hover:text-orange-500'}\n\t\t\t\t/>\n\t\t\t\t<span class=\"font-medium\">{item.name}</span>\n\t\t\t</a>\n\t\t{/each}\n\t</nav>\n\n\t<div class=\"border-t border-slate-800 p-4\">\n\t\t<form method=\"POST\" action=\"/logout\" class=\"mt-auto pt-8\" use:enhance>\n\t\t\t<button\n\t\t\t\ttype=\"submit\"\n\t\t\t\tclass=\"group flex w-full font-bold items-center gap-4 rounded-2xl px-4 py-4 text-slate-400 transition-all hover:bg-red-50 hover:text-red-500\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 transition-colors group-hover:bg-red-100\"\n\t\t\t\t>\n\t\t\t\t\t<LogOut size={20} />\n\t\t\t\t</div>\n\t\t\t\t<span>Esci</span>\n\t\t\t</button>\n\t\t</form>\n\t</div>\n</aside>\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/icons/GlutenFreeIcon.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/badge/badge.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/badge/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/button/button.svelte","messages":[{"ruleId":"svelte/no-navigation-without-resolve","severity":2,"message":"Unexpected href link without resolve().","line":63,"column":8,"nodeType":null,"messageId":"linkWithoutResolve","endLine":63,"endColumn":37}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script lang=\"ts\" module>\n\timport { cn, type WithElementRef } from '$lib/utils.js';\n\timport type { HTMLAnchorAttributes, HTMLButtonAttributes } from 'svelte/elements';\n\timport { type VariantProps, tv } from 'tailwind-variants';\n\n\texport const buttonVariants = tv({\n\t\tbase: \"focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex shrink-0 items-center justify-center gap-2 rounded-md text-sm font-medium whitespace-nowrap transition-all outline-none focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n\t\tvariants: {\n\t\t\tvariant: {\n\t\t\t\tdefault: 'bg-primary text-primary-foreground hover:bg-primary/90 shadow-xs',\n\t\t\t\tdestructive:\n\t\t\t\t\t'bg-destructive hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 text-white shadow-xs',\n\t\t\t\toutline:\n\t\t\t\t\t'bg-background hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 border shadow-xs',\n\t\t\t\tsecondary: 'bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-xs',\n\t\t\t\tghost: 'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n\t\t\t\tlink: 'text-primary underline-offset-4 hover:underline'\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\tdefault: 'h-9 px-4 py-2 has-[>svg]:px-3',\n\t\t\t\tsm: 'h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5',\n\t\t\t\tlg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n\t\t\t\ticon: 'size-9',\n\t\t\t\t'icon-sm': 'size-8',\n\t\t\t\t'icon-lg': 'size-10'\n\t\t\t}\n\t\t},\n\t\tdefaultVariants: {\n\t\t\tvariant: 'default',\n\t\t\tsize: 'default'\n\t\t}\n\t});\n\n\texport type ButtonVariant = VariantProps<typeof buttonVariants>['variant'];\n\texport type ButtonSize = VariantProps<typeof buttonVariants>['size'];\n\n\texport type ButtonProps = WithElementRef<HTMLButtonAttributes> &\n\t\tWithElementRef<HTMLAnchorAttributes> & {\n\t\t\tvariant?: ButtonVariant;\n\t\t\tsize?: ButtonSize;\n\t\t};\n</script>\n\n<script lang=\"ts\">\n\tlet {\n\t\tclass: className,\n\t\tvariant = 'default',\n\t\tsize = 'default',\n\t\tref = $bindable(null),\n\t\thref = undefined,\n\t\ttype = 'button',\n\t\tdisabled,\n\t\tchildren,\n\t\t...restProps\n\t}: ButtonProps = $props();\n</script>\n\n{#if href}\n\t<a\n\t\tbind:this={ref}\n\t\tdata-slot=\"button\"\n\t\tclass={cn(buttonVariants({ variant, size }), className)}\n\t\thref={disabled ? undefined : href}\n\t\taria-disabled={disabled}\n\t\trole={disabled ? 'link' : undefined}\n\t\ttabindex={disabled ? -1 : undefined}\n\t\t{...restProps}\n\t>\n\t\t{@render children?.()}\n\t</a>\n{:else}\n\t<button\n\t\tbind:this={ref}\n\t\tdata-slot=\"button\"\n\t\tclass={cn(buttonVariants({ variant, size }), className)}\n\t\t{type}\n\t\t{disabled}\n\t\t{...restProps}\n\t>\n\t\t{@render children?.()}\n\t</button>\n{/if}\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/button/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/card/card-action.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/card/card-content.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/card/card-description.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/card/card-footer.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/card/card-header.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/card/card-title.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/card/card.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/card/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/dialog/dialog-close.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/dialog/dialog-content.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/dialog/dialog-description.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/dialog/dialog-footer.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/dialog/dialog-header.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/dialog/dialog-overlay.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/dialog/dialog-portal.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/dialog/dialog-title.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/dialog/dialog-trigger.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/dialog/dialog.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/dialog/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/drawer/drawer-close.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/drawer/drawer-content.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/drawer/drawer-description.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/drawer/drawer-footer.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/drawer/drawer-header.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/drawer/drawer-nested.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/drawer/drawer-overlay.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/drawer/drawer-portal.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/drawer/drawer-title.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/drawer/drawer-trigger.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/drawer/drawer.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/drawer/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/input/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/input/input.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/label/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/label/label.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/separator/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/separator/separator.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sheet/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sheet/sheet-close.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sheet/sheet-content.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sheet/sheet-description.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sheet/sheet-footer.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sheet/sheet-header.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sheet/sheet-overlay.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sheet/sheet-portal.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sheet/sheet-title.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sheet/sheet-trigger.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sheet/sheet.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/context.svelte.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-content.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-footer.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-group-action.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-group-content.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-group-label.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-group.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-header.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-input.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-inset.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-menu-action.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-menu-badge.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-menu-button.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-menu-item.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-menu-skeleton.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-menu-sub-button.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-menu-sub-item.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-menu-sub.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-menu.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-provider.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-rail.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-separator.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar-trigger.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/sidebar/sidebar.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/skeleton/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/skeleton/skeleton.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/tooltip/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/tooltip/tooltip-content.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/tooltip/tooltip-portal.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/tooltip/tooltip-provider.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/tooltip/tooltip-trigger.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/components/ui/tooltip/tooltip.svelte","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/db/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/db/schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/hooks/is-mobile.svelte.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/supabase.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'isBrowser' is defined but never used.","line":4,"column":2,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'parseCookieHeader' is defined but never used.","line":5,"column":2,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[320,323],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[320,323],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[613,616],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[613,616],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n\tcreateBrowserClient,\n\tcreateServerClient,\n\tisBrowser,\n\tparseCookieHeader\n} from '@supabase/ssr';\nimport { PUBLIC_SUPABASE_URL, PUBLIC_SUPABASE_ANON_KEY } from '$env/static/public';\n\n/**\n * Creates a Supabase client that can be used in the browser.\n */\nexport function createBrowserSupabaseClient(customFetch?: any) {\n\treturn createBrowserClient(PUBLIC_SUPABASE_URL, PUBLIC_SUPABASE_ANON_KEY, {\n\t\tglobal: { fetch: customFetch }\n\t});\n}\n\n/**\n * Creates a Supabase client for server-side usage.\n * Requires event from SvelteKit hooks or load functions.\n */\nexport function createServerSupabaseClient(event: any) {\n\treturn createServerClient(PUBLIC_SUPABASE_URL, PUBLIC_SUPABASE_ANON_KEY, {\n\t\tcookies: {\n\t\t\tgetAll() {\n\t\t\t\treturn event.cookies.getAll();\n\t\t\t},\n\t\t\tsetAll(cookiesToSet) {\n\t\t\t\tcookiesToSet.forEach(({ name, value, options }) =>\n\t\t\t\t\tevent.cookies.set(name, value, { ...options, path: '/' })\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t});\n}\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/lib/utils.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[282,285],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[282,285],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":11,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":11,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[431,434],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[431,434],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(admin)/+layout.server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(admin)/+layout.svelte","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":4,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":4,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[174,177],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[174,177],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script lang=\"ts\">\n\timport Sidebar from '$lib/components/Sidebar.svelte';\n\timport type { LayoutData } from './$types';\n\tlet { data, children }: { data: LayoutData; children: any } = $props();\n</script>\n\n<div class=\"flex min-h-screen bg-slate-50\">\n\t<Sidebar />\n\n\t<main class=\"flex-1 transition-all duration-300 md:ml-64\">\n\t\t<header\n\t\t\tclass=\"sticky top-0 z-10 flex h-16 items-center justify-between border-b border-slate-200 bg-white/80 px-8 backdrop-blur-md\"\n\t\t>\n\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t<span class=\"text-sm font-medium text-slate-500\"\n\t\t\t\t\t>Benvenuto, {data.profile?.restaurant_name ?? 'Ristoratore'}</span\n\t\t\t\t>\n\t\t\t</div>\n\n\t\t\t<div class=\"flex items-center gap-4\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"flex h-8 w-8 items-center justify-center rounded-full border border-orange-200 bg-orange-100 font-bold text-orange-600\"\n\t\t\t\t>\n\t\t\t\t\t{(data.profile?.restaurant_name?.[0] ?? 'G').toUpperCase()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n\n\t\t<div class=\"p-8\">\n\t\t\t{@render children()}\n\t\t</div>\n\t</main>\n</div>\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(admin)/dashboard/+page.server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(admin)/dashboard/+page.svelte","messages":[{"ruleId":"svelte/no-navigation-without-resolve","severity":2,"message":"Unexpected href link without resolve().","line":84,"column":13,"nodeType":null,"messageId":"linkWithoutResolve","endLine":84,"endColumn":29}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script lang=\"ts\">\n\timport { TrendingUp, Users, UtensilsCrossed, Plus } from 'lucide-svelte';\n\timport type { PageData } from './$types';\n\n\tlet { data }: { data: PageData } = $props();\n</script>\n\n<div class=\"space-y-8\">\n\t<div class=\"flex items-end justify-between\">\n\t\t<div>\n\t\t\t<h1 class=\"text-4xl font-black tracking-tight text-slate-900\">Dashboard</h1>\n\t\t\t<p class=\"mt-2 font-medium text-slate-500\">Ecco cosa succede nel tuo ristorante oggi.</p>\n\t\t</div>\n\n\t\t<button\n\t\t\tclass=\"group flex items-center gap-2 rounded-2xl bg-orange-500 px-6 py-3 font-bold text-white shadow-lg shadow-orange-500/30 transition-all hover:bg-orange-600\"\n\t\t>\n\t\t\t<Plus size={20} class=\"transition-transform group-hover:rotate-90\" />\n\t\t\tNuovo Piatto\n\t\t</button>\n\t</div>\n\n\t<div class=\"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3\">\n\t\t<div\n\t\t\tclass=\"group relative space-y-4 overflow-hidden rounded-[2.5rem] border border-slate-100 bg-white p-8 shadow-sm transition-all duration-500 hover:shadow-xl\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclass=\"absolute top-0 right-0 -mt-8 -mr-8 h-24 w-24 rounded-bl-[4rem] bg-orange-50 transition-transform group-hover:scale-110\"\n\t\t\t></div>\n\t\t\t<div\n\t\t\t\tclass=\"relative z-10 flex h-14 w-14 items-center justify-center rounded-2xl bg-orange-100 text-orange-600\"\n\t\t\t>\n\t\t\t\t<Users size={28} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<h3 class=\"text-sm font-bold tracking-widest text-slate-400 uppercase\">Visite Menu oggi</h3>\n\t\t\t\t<p class=\"mt-1 text-4xl font-black text-slate-900\">{data.stats.visitsToday}</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"group relative space-y-4 overflow-hidden rounded-[2.5rem] border border-slate-100 bg-white p-8 shadow-sm transition-all duration-500 hover:shadow-xl\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclass=\"absolute top-0 right-0 -mt-8 -mr-8 h-24 w-24 rounded-bl-[4rem] bg-emerald-50 transition-transform group-hover:scale-110\"\n\t\t\t></div>\n\t\t\t<div\n\t\t\t\tclass=\"relative z-10 flex h-14 w-14 items-center justify-center rounded-2xl bg-emerald-100 text-emerald-600\"\n\t\t\t>\n\t\t\t\t<TrendingUp size={28} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<h3 class=\"text-sm font-bold tracking-widest text-slate-400 uppercase\">Piatto Top</h3>\n\t\t\t\t<p class=\"mt-1 truncate text-2xl font-black text-slate-900\">\n\t\t\t\t\t{data.stats.topDish || 'Nessun dato'}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"group relative overflow-hidden rounded-[2rem] bg-orange-500 p-8 text-white shadow-lg shadow-orange-500/20 transition-all duration-500 hover:scale-[1.02]\"\n\t\t>\n\t\t\t<div class=\"relative z-10\">\n\t\t\t\t<div class=\"mb-2 text-xs font-bold tracking-wider text-orange-200 uppercase\">\n\t\t\t\t\tProssimo Obiettivo\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mb-4 text-3xl font-black\">Ottimizza il tuo Menu</div>\n\t\t\t\t<p class=\"mb-6 text-sm leading-relaxed text-orange-100\">\n\t\t\t\t\tAggiungi le foto ai tuoi piatti per aumentare le vendite del 30%.\n\t\t\t\t</p>\n\t\t\t\t<button class=\"rounded-xl bg-white px-6 py-2 text-sm font-bold text-orange-500\">\n\t\t\t\t\tInizia Ora\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class=\"absolute -right-4 -bottom-4 rotate-12 text-white/10\">\n\t\t\t\t<UtensilsCrossed size={120} />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class=\"overflow-hidden rounded-[2rem] border border-slate-100 bg-white shadow-sm\">\n\t\t<div class=\"flex items-center justify-between border-b border-slate-50 p-8\">\n\t\t\t<h2 class=\"text-2xl font-black tracking-tight text-slate-900\">Ultimi Aggiornamenti</h2>\n\t\t\t<a href=\"/menu-management\" class=\"text-sm font-bold text-orange-500 hover:underline\"\n\t\t\t\t>Vedi tutto</a\n\t\t\t>\n\t\t</div>\n\t\t<div class=\"p-16 text-center\">\n\t\t\t<div class=\"mx-auto max-w-xs space-y-4\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-slate-50 text-slate-300\"\n\t\t\t\t>\n\t\t\t\t\t<UtensilsCrossed size={32} />\n\t\t\t\t</div>\n\t\t\t\t<h3 class=\"text-lg font-bold text-slate-900\">Ancora nessun piatto</h3>\n\t\t\t\t<p class=\"text-sm text-slate-500\">\n\t\t\t\t\tIl tuo menu è vuoto. Inizia aggiungendo il tuo primo piatto delizioso!\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(admin)/menu-management/+page.server.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":100,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":100,"endColumn":13},{"ruleId":"prefer-const","severity":2,"message":"'updates' is never reassigned. Use 'const' instead.","line":223,"column":7,"nodeType":"Identifier","messageId":"useConst","endLine":223,"endColumn":19,"fix":{"range":[6251,6423],"text":"const updates: any = {\n\t\t\tname,\n\t\t\tdescription,\n\t\t\tprice: parseFloat(price),\n\t\t\tcategory_id: parseInt(category_id),\n\t\t\tallergens,\n\t\t\tupdated_at: new Date().toISOString()\n\t\t};"}},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":223,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":223,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6264,6267],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6264,6267],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":"import { fail, redirect } from '@sveltejs/kit';\nimport type { PageServerLoad, Actions } from './$types';\nimport { db } from '$lib/db';\nimport {\n\tcategories as categoriesTable,\n\tdishes as dishesTable,\n\tallergens as allergensTable,\n\tprofiles as profilesTable\n} from '$lib/db/schema';\nimport { eq, asc, desc } from 'drizzle-orm';\nimport { QueryClient, dehydrate } from '@tanstack/svelte-query';\n\nexport const load: PageServerLoad = async ({ locals }) => {\n\tconst user = await locals.getUser();\n\tif (!user) {\n\t\tthrow redirect(303, '/login');\n\t}\n\n\t// Fetch profile\n\tconst profile = await db.query.profiles.findFirst({\n\t\twhere: eq(profilesTable.id, user.id)\n\t});\n\n\tif (!profile) {\n\t\tthrow redirect(303, '/settings');\n\t}\n\n\tconst queryClient = new QueryClient();\n\n\t// Prefetch categories\n\tawait queryClient.prefetchQuery({\n\t\tqueryKey: ['categories', profile.id],\n\t\tqueryFn: async () => {\n\t\t\treturn await db\n\t\t\t\t.select()\n\t\t\t\t.from(categoriesTable)\n\t\t\t\t.where(eq(categoriesTable.restaurant_id, profile.id))\n\t\t\t\t.orderBy(asc(categoriesTable.sort_order));\n\t\t}\n\t});\n\n\t// Prefetch dishes\n\tawait queryClient.prefetchQuery({\n\t\tqueryKey: ['dishes', profile.id],\n\t\tqueryFn: async () => {\n\t\t\treturn await db\n\t\t\t\t.select({\n\t\t\t\t\tid: dishesTable.id,\n\t\t\t\t\tname: dishesTable.name,\n\t\t\t\t\tdescription: dishesTable.description,\n\t\t\t\t\tprice: dishesTable.price,\n\t\t\t\t\timage_url: dishesTable.image_url,\n\t\t\t\t\tis_available: dishesTable.is_available,\n\t\t\t\t\tallergens: dishesTable.allergens,\n\t\t\t\t\tcategory_id: dishesTable.category_id,\n\t\t\t\t\tcategories: {\n\t\t\t\t\t\tname: categoriesTable.name\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.from(dishesTable)\n\t\t\t\t.leftJoin(categoriesTable, eq(dishesTable.category_id, categoriesTable.id))\n\t\t\t\t.where(eq(dishesTable.restaurant_id, profile.id))\n\t\t\t\t.orderBy(desc(dishesTable.created_at));\n\t\t}\n\t});\n\n\t// Prefetch allergens\n\tawait queryClient.prefetchQuery({\n\t\tqueryKey: ['allergens'],\n\t\tqueryFn: async () => {\n\t\t\treturn await db.select().from(allergensTable).orderBy(asc(allergensTable.number));\n\t\t}\n\t});\n\n\treturn {\n\t\tprofile,\n\t\tdehydratedState: dehydrate(queryClient),\n\t\t// Keep these for now to avoid breaking existing code while refactoring frontend\n\t\tcategories: await queryClient.getQueryData(['categories', profile.id]),\n\t\tdishes: await queryClient.getQueryData(['dishes', profile.id]),\n\t\tallergens: await queryClient.getQueryData(['allergens'])\n\t};\n};\n\nexport const actions: Actions = {\n\taddCategory: async ({ request, locals }) => {\n\t\tconst user = await locals.getUser();\n\t\tif (!user) return fail(401);\n\n\t\tconst formData = await request.formData();\n\t\tconst name = formData.get('name') as string;\n\n\t\tif (!name) return fail(400, { error: 'Nome categoria obbligatorio' });\n\n\t\ttry {\n\t\t\tawait db.insert(categoriesTable).values({\n\t\t\t\tname,\n\t\t\t\trestaurant_id: user.id\n\t\t\t});\n\t\t} catch (e) {\n\t\t\treturn fail(500, { error: 'Errore durante il salvataggio' });\n\t\t}\n\n\t\treturn { success: true };\n\t},\n\n\teditCategory: async ({ request, locals }) => {\n\t\tconst user = await locals.getUser();\n\t\tif (!user) return fail(401);\n\n\t\tconst formData = await request.formData();\n\t\tconst id = formData.get('id');\n\t\tconst name = formData.get('name') as string;\n\n\t\tif (!id || !name) return fail(400, { error: 'Dati mancanti' });\n\n\t\tconst { error } = await locals.supabase\n\t\t\t.from('categories')\n\t\t\t.update({ name })\n\t\t\t.eq('id', id)\n\t\t\t.eq('restaurant_id', user.id);\n\n\t\tif (error) return fail(500, { error: \"Errore durante l'aggiornamento\" });\n\n\t\treturn { success: true };\n\t},\n\n\tdeleteCategory: async ({ request, locals }) => {\n\t\tconst user = await locals.getUser();\n\t\tif (!user) return fail(401);\n\n\t\tconst formData = await request.formData();\n\t\tconst id = formData.get('id');\n\n\t\tif (!id) return fail(400);\n\n\t\tconst { error } = await locals.supabase\n\t\t\t.from('categories')\n\t\t\t.delete()\n\t\t\t.eq('id', id)\n\t\t\t.eq('restaurant_id', user.id);\n\n\t\tif (error) return fail(500, { error: \"Errore durante l'eliminazione\" });\n\n\t\treturn { success: true };\n\t},\n\n\taddDish: async ({ request, locals }) => {\n\t\tconst user = await locals.getUser();\n\t\tif (!user) return fail(401);\n\n\t\tconst formData = await request.formData();\n\t\tconst name = formData.get('name') as string;\n\t\tconst price = formData.get('price') as string;\n\t\tconst category_id = formData.get('category_id') as string;\n\t\tconst description = formData.get('description') as string;\n\t\tconst allergens = formData.get('allergens') as string;\n\t\tconst image = formData.get('image') as File;\n\n\t\tif (!name || !price || !category_id) return fail(400, { error: 'Dati obbligatori mancanti' });\n\n\t\tlet image_url = null;\n\t\tif (image && image.size > 0) {\n\t\t\tconst fileExt = image.name.split('.').pop();\n\t\t\tconst fileName = `${user.id}/${Math.random()}.${fileExt}`;\n\t\t\tconst { error: uploadError } = await locals.supabase.storage\n\t\t\t\t.from('dish-images')\n\t\t\t\t.upload(fileName, image);\n\n\t\t\tif (uploadError) return fail(500, { error: 'Errore upload immagine' });\n\n\t\t\tconst {\n\t\t\t\tdata: { publicUrl }\n\t\t\t} = locals.supabase.storage.from('dish-images').getPublicUrl(fileName);\n\n\t\t\timage_url = publicUrl;\n\t\t}\n\n\t\tconst allergensList = allergens ? allergens.split(',').map((a) => a.trim()) : [];\n\n\t\tconst { error } = await locals.supabase.from('dishes').insert({\n\t\t\tname,\n\t\t\tprice: parseFloat(price).toString(),\n\t\t\tcategory_id: parseInt(category_id),\n\t\t\tdescription,\n\t\t\timage_url,\n\t\t\trestaurant_id: user.id,\n\t\t\tallergens: allergensList\n\t\t});\n\n\t\tif (error) {\n\t\t\tconsole.error('Error adding dish:', error);\n\t\t\treturn fail(500, { error: 'Errore durante il salvataggio' });\n\t\t}\n\n\t\treturn { success: true };\n\t},\n\n\teditDish: async ({ request, locals }) => {\n\t\tconst user = await locals.getUser();\n\t\tif (!user) return fail(401);\n\n\t\tconst formData = await request.formData();\n\t\tconst id = formData.get('id');\n\t\tconst name = formData.get('name') as string;\n\t\tconst description = formData.get('description') as string;\n\t\tconst price = formData.get('price') as string;\n\t\tconst category_id = formData.get('category_id') as string;\n\t\tconst allergensStr = formData.get('allergens') as string;\n\t\tconst image = formData.get('image') as File;\n\n\t\tif (!name || !price || !category_id) {\n\t\t\treturn fail(400, { error: 'Nome, prezzo e categoria sono obbligatori' });\n\t\t}\n\n\t\tconst allergens = allergensStr\n\t\t\t? allergensStr\n\t\t\t\t\t.split(',')\n\t\t\t\t\t.map((s) => s.trim())\n\t\t\t\t\t.filter(Boolean)\n\t\t\t: [];\n\n\t\tlet updates: any = {\n\t\t\tname,\n\t\t\tdescription,\n\t\t\tprice: parseFloat(price),\n\t\t\tcategory_id: parseInt(category_id),\n\t\t\tallergens,\n\t\t\tupdated_at: new Date().toISOString()\n\t\t};\n\n\t\t// Handle Image Upload if provided\n\t\tif (image && image.size > 0) {\n\t\t\tconst fileExt = image.name.split('.').pop();\n\t\t\tconst fileName = `${Math.random()}.${fileExt}`;\n\t\t\tconst filePath = `${user.id}/${fileName}`;\n\n\t\t\tconst { error: uploadError } = await locals.supabase.storage\n\t\t\t\t.from('menu-images')\n\t\t\t\t.upload(filePath, image);\n\n\t\t\tif (!uploadError) {\n\t\t\t\tconst {\n\t\t\t\t\tdata: { publicUrl }\n\t\t\t\t} = locals.supabase.storage.from('menu-images').getPublicUrl(filePath);\n\t\t\t\tupdates.image_url = publicUrl;\n\t\t\t}\n\t\t}\n\n\t\tconst { error } = await locals.supabase\n\t\t\t.from('dishes')\n\t\t\t.update(updates)\n\t\t\t.eq('id', id)\n\t\t\t.eq('restaurant_id', user.id);\n\n\t\tif (error) return fail(500, { error: \"Errore durante l'aggiornamento del piatto\" });\n\n\t\treturn { success: true };\n\t},\n\n\tdeleteDish: async ({ request, locals }) => {\n\t\tconst user = await locals.getUser();\n\t\tif (!user) return fail(401);\n\n\t\tconst formData = await request.formData();\n\t\tconst id = formData.get('id');\n\n\t\tconst { error } = await locals.supabase\n\t\t\t.from('dishes')\n\t\t\t.delete()\n\t\t\t.eq('id', id)\n\t\t\t.eq('restaurant_id', user.id);\n\n\t\tif (error) return fail(500, { error: \"Errore durante l'eliminazione del piatto\" });\n\n\t\treturn { success: true };\n\t}\n};\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(admin)/menu-management/+page.svelte","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'createMutation' is defined but never used.","line":5,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":38},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'form' is assigned a value but never used.","line":7,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":18},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[483,486],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[483,486],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[932,935],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[932,935],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1390,1393],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1390,1393],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":60,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1777,1780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1777,1780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":61,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1815,1818],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1815,1818],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":163,"column":5,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":197,"endColumn":12},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":369,"column":11,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":371,"endColumn":18},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":396,"column":11,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":428,"endColumn":18},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":483,"column":5,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":538,"endColumn":12},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":622,"column":12,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":624,"endColumn":19},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":648,"column":12,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":680,"endColumn":19}],"suppressedMessages":[],"errorCount":13,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script lang=\"ts\">\n\timport { Plus, Trash2, Edit3, Grid, Utensils } from 'lucide-svelte';\n\timport type { PageData, ActionData } from './$types';\n\timport { enhance } from '$app/forms';\n\timport { createQuery, createMutation, useQueryClient } from '@tanstack/svelte-query';\n\n\tlet { data, form }: { data: PageData; form: ActionData } = $props();\n\tlet supabase = $derived(data.supabase);\n\tconst queryClient = useQueryClient();\n\n\t// 1. Categories Query\n\tconst categoriesQuery = createQuery<any[]>(() => ({\n\t\tqueryKey: ['categories', data.profile?.id],\n\t\tqueryFn: async () => {\n\t\t\tif (!data.profile?.id) return [];\n\t\t\tconst { data: categories, error } = await supabase\n\t\t\t\t.from('categories')\n\t\t\t\t.select('*')\n\t\t\t\t.eq('restaurant_id', data.profile.id)\n\t\t\t\t.order('sort_order', { ascending: true });\n\t\t\tif (error) throw error;\n\t\t\treturn categories;\n\t\t},\n\t\tstaleTime: 1000 * 60 * 5\n\t}));\n\n\t// 2. Dishes Query\n\tconst dishesQuery = createQuery<any[]>(() => ({\n\t\tqueryKey: ['dishes', data.profile?.id],\n\t\tqueryFn: async () => {\n\t\t\tif (!data.profile?.id) return [];\n\t\t\tconst { data: dishes, error } = await supabase\n\t\t\t\t.from('dishes')\n\t\t\t\t.select('*, categories(name)')\n\t\t\t\t.eq('restaurant_id', data.profile.id)\n\t\t\t\t.order('created_at', { ascending: false });\n\t\t\tif (error) throw error;\n\t\t\treturn dishes;\n\t\t},\n\t\tstaleTime: 1000 * 60 * 5\n\t}));\n\n\t// 3. Allergens Query\n\tconst allergensQuery = createQuery<any[]>(() => ({\n\t\tqueryKey: ['allergens'],\n\t\tqueryFn: async () => {\n\t\t\tconst { data: allergens, error } = await supabase\n\t\t\t\t.from('allergens')\n\t\t\t\t.select('*')\n\t\t\t\t.order('number', { ascending: true });\n\t\t\tif (error) throw error;\n\t\t\treturn allergens;\n\t\t},\n\t\tstaleTime: 1000 * 60 * 60\n\t}));\n\n\tlet showAddCategory = $state(false);\n\tlet showAddDish = $state(false);\n\n\tlet editingCategory: any = $state(null);\n\tlet editingDish: any = $state(null);\n\n\tlet dishName = $state('');\n\tlet dishDescription = $state('');\n\tlet dishPrice = $state('');\n\tlet dishCategory = $state('');\n\tlet selectedAllergenIds = $state<string[]>([]);\n\tlet imagePreview: string | null = $state(null);\n\n\tfunction handleImageChange(e: Event) {\n\t\tconst file = (e.target as HTMLInputElement).files?.[0];\n\t\tif (file) {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = (e) => {\n\t\t\t\timagePreview = e.target?.result as string;\n\t\t\t};\n\t\t\treader.readAsDataURL(file);\n\t\t}\n\t}\n\n\t// 4. Reactive Hydration Sync: Ensure TanStack Query cache matches SvelteKit data\n\t$effect(() => {\n\t\tif (data.categories && data.profile?.id) {\n\t\t\tqueryClient.setQueryData(['categories', data.profile.id], data.categories);\n\t\t}\n\t});\n\n\t$effect(() => {\n\t\tif (data.dishes && data.profile?.id) {\n\t\t\tqueryClient.setQueryData(['dishes', data.profile.id], data.dishes);\n\t\t}\n\t});\n\n\t$effect(() => {\n\t\tif (data.allergens) {\n\t\t\tqueryClient.setQueryData(['allergens'], data.allergens);\n\t\t}\n\t});\n</script>\n\n<div class=\"space-y-8\">\n\t<div class=\"flex items-end justify-between\">\n\t\t<div>\n\t\t\t<h1 class=\"text-4xl font-black tracking-tight text-slate-900\">Gestione Menu</h1>\n\t\t\t<p class=\"mt-2 font-medium text-slate-500\">Organizza le tue categorie e i tuoi piatti.</p>\n\t\t</div>\n\t</div>\n\n\t<div class=\"grid grid-cols-1 gap-8 lg:grid-cols-4\">\n\t\t<!-- Categories Sidebar -->\n\t\t<div class=\"space-y-6 lg:col-span-1\">\n\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t<h2 class=\"flex items-center gap-2 text-xl font-black tracking-tight text-slate-900\">\n\t\t\t\t\t<Grid size={20} class=\"text-orange-500\" />\n\t\t\t\t\tCategorie\n\t\t\t\t</h2>\n\t\t\t\t<button\n\t\t\t\t\tonclick={() => (showAddCategory = !showAddCategory)}\n\t\t\t\t\tclass=\"rounded-xl bg-orange-50 p-2 text-orange-500 transition-colors hover:bg-orange-100\"\n\t\t\t\t>\n\t\t\t\t\t<Plus size={20} />\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{#if showAddCategory}\n\t\t\t\t<form\n\t\t\t\t\tmethod=\"POST\"\n\t\t\t\t\taction=\"?/addCategory\"\n\t\t\t\t\tuse:enhance={() => {\n\t\t\t\t\t\treturn async ({ update }) => {\n\t\t\t\t\t\t\tshowAddCategory = false;\n\t\t\t\t\t\t\tawait update();\n\t\t\t\t\t\t\tqueryClient.invalidateQueries({ queryKey: ['categories', data.profile?.id] });\n\t\t\t\t\t\t};\n\t\t\t\t\t}}\n\t\t\t\t\tclass=\"space-y-3 rounded-2xl border border-orange-100 bg-white p-4 shadow-sm\"\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tplaceholder=\"Nome (es. Antipasti)\"\n\t\t\t\t\t\tclass=\"w-full rounded-xl border-2 border-transparent bg-slate-50 p-3 text-sm font-bold outline-none focus:border-orange-500\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tclass=\"flex-1 rounded-xl bg-orange-500 py-2 text-sm font-bold text-white\"\n\t\t\t\t\t\t\t>Salva</button\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonclick={() => (showAddCategory = false)}\n\t\t\t\t\t\t\tclass=\"flex-1 rounded-xl bg-slate-100 py-2 text-sm font-bold text-slate-500\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAnnulla\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t{/if}\n\n\t\t\t<div class=\"space-y-2\">\n\t\t\t\t{#each categoriesQuery.data ?? [] as category}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"group flex items-center justify-between rounded-2xl border border-slate-100 bg-white p-4 transition-all hover:border-orange-200 hover:shadow-md\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span class=\"font-bold text-slate-700\">{category.name}</span>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"flex items-center gap-1 opacity-0 transition-opacity group-hover:opacity-100\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonclick={() => (editingCategory = category)}\n\t\t\t\t\t\t\t\tclass=\"p-2 text-slate-400 transition-colors hover:text-orange-500\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Edit3 size={16} />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\tmethod=\"POST\"\n\t\t\t\t\t\t\t\taction=\"?/deleteCategory\"\n\t\t\t\t\t\t\t\tuse:enhance={() => {\n\t\t\t\t\t\t\t\t\treturn async ({ update }) => {\n\t\t\t\t\t\t\t\t\t\tawait update();\n\t\t\t\t\t\t\t\t\t\tqueryClient.invalidateQueries({ queryKey: ['categories', data.profile?.id] });\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"id\" value={category.id} />\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tclass=\"p-2 text-slate-400 transition-colors hover:text-red-500\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Trash2 size={16} />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\n\t\t\t\t{#if editingCategory}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 p-4 backdrop-blur-sm\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"w-full max-w-sm space-y-6 rounded-3xl bg-white p-8 shadow-xl\">\n\t\t\t\t\t\t\t<h3 class=\"text-xl font-black text-slate-900\">Modifica Categoria</h3>\n\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\tmethod=\"POST\"\n\t\t\t\t\t\t\t\taction=\"?/editCategory\"\n\t\t\t\t\t\t\t\tuse:enhance={() => {\n\t\t\t\t\t\t\t\t\treturn async ({ update }) => {\n\t\t\t\t\t\t\t\t\t\teditingCategory = null;\n\t\t\t\t\t\t\t\t\t\tawait update();\n\t\t\t\t\t\t\t\t\t\tqueryClient.invalidateQueries({ queryKey: ['categories', data.profile?.id] });\n\t\t\t\t\t\t\t\t\t\tqueryClient.invalidateQueries({ queryKey: ['dishes', data.profile?.id] });\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclass=\"space-y-4\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"id\" value={editingCategory.id} />\n\t\t\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<label for=\"edit_cat_name\" class=\"text-xs font-black text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t\t\t>Nome</label\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid=\"edit_cat_name\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\tvalue={editingCategory.name}\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border-2 border-transparent bg-slate-50 p-4 font-bold outline-none focus:border-orange-500\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 rounded-xl bg-orange-500 py-3 font-bold text-white\"\n\t\t\t\t\t\t\t\t\t\t>Aggiorna</button\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonclick={() => (editingCategory = null)}\n\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 rounded-xl bg-slate-100 py-3 font-bold text-slate-500\"\n\t\t\t\t\t\t\t\t\t\t>Annulla</button\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t{#if data.categories.length === 0}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50 p-8 text-center\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<p class=\"text-sm font-medium text-slate-400\">Nessuna categoria</p>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Dishes Main Area -->\n\t\t<div class=\"space-y-6 lg:col-span-3\">\n\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t<h2 class=\"flex items-center gap-2 text-xl font-black tracking-tight text-slate-900\">\n\t\t\t\t\t<Utensils size={20} class=\"text-orange-500\" />\n\t\t\t\t\tPiatti\n\t\t\t\t</h2>\n\t\t\t\t<button\n\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\tshowAddDish = true;\n\t\t\t\t\t\tselectedAllergenIds = [];\n\t\t\t\t\t\tdishName = '';\n\t\t\t\t\t\tdishDescription = '';\n\t\t\t\t\t\tdishPrice = '';\n\t\t\t\t\t\tdishCategory = '';\n\t\t\t\t\t}}\n\t\t\t\t\tclass=\"flex items-center gap-2 rounded-2xl bg-orange-500 px-6 py-3 font-bold text-white shadow-lg shadow-orange-500/30 transition-all hover:bg-orange-600\"\n\t\t\t\t>\n\t\t\t\t\t<Plus size={20} />\n\t\t\t\t\tNuovo Piatto\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t{#if showAddDish}\n\t\t\t\t<div\n\t\t\t\t\tclass=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 p-4 backdrop-blur-sm\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"animate-in fade-in zoom-in w-full max-w-xl space-y-8 rounded-[2.5rem] bg-white p-10 shadow-2xl duration-300\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<h3 class=\"text-3xl font-black tracking-tight text-slate-900\">Nuovo Piatto</h3>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonclick={() => (showAddDish = false)}\n\t\t\t\t\t\t\t\tclass=\"text-slate-400 transition-colors hover:text-slate-900\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Plus size={32} class=\"rotate-45\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<form\n\t\t\t\t\t\t\tmethod=\"POST\"\n\t\t\t\t\t\t\taction=\"?/addDish\"\n\t\t\t\t\t\t\tenctype=\"multipart/form-data\"\n\t\t\t\t\t\t\tuse:enhance={() => {\n\t\t\t\t\t\t\t\treturn async ({ update }) => {\n\t\t\t\t\t\t\t\t\tshowAddDish = false;\n\t\t\t\t\t\t\t\t\tdishName = '';\n\t\t\t\t\t\t\t\t\tdishPrice = '';\n\t\t\t\t\t\t\t\t\tdishDescription = '';\n\t\t\t\t\t\t\t\t\tdishCategory = '';\n\t\t\t\t\t\t\t\t\tselectedAllergenIds = [];\n\t\t\t\t\t\t\t\t\timagePreview = null;\n\t\t\t\t\t\t\t\t\tawait update();\n\t\t\t\t\t\t\t\t\tqueryClient.invalidateQueries({ queryKey: ['dishes', data.profile?.id] });\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclass=\"space-y-6\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"grid grid-cols-2 gap-6\">\n\t\t\t\t\t\t\t\t<div class=\"col-span-2 space-y-2\">\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor=\"new_dish_name\"\n\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-black tracking-wider text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t\t\t>Nome del Piatto</label\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid=\"new_dish_name\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\tbind:value={dishName}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"es. Carbonara Speciale\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border-2 border-transparent bg-slate-50 p-4 font-bold outline-none focus:border-orange-500\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor=\"new_dish_price\"\n\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-black tracking-wider text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t\t\t>Prezzo (€)</label\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid=\"new_dish_price\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\t\t\t\tstep=\"0.50\"\n\t\t\t\t\t\t\t\t\t\tbind:value={dishPrice}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"12.00\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border-2 border-transparent bg-slate-50 p-4 font-bold outline-none focus:border-orange-500\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor=\"new_dish_cat\"\n\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-black tracking-wider text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t\t\t>Categoria</label\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tid=\"new_dish_cat\"\n\t\t\t\t\t\t\t\t\t\tname=\"category_id\"\n\t\t\t\t\t\t\t\t\t\tbind:value={dishCategory}\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full appearance-none rounded-2xl border-2 border-transparent bg-slate-50 p-4 font-bold outline-none focus:border-orange-500\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"\" disabled>Scegli...</option>\n\t\t\t\t\t\t\t\t\t\t{#each categoriesQuery.data ?? [] as category}\n\t\t\t\t\t\t\t\t\t\t\t<option value={category.id}>{category.name}</option>\n\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"col-span-2 space-y-2\">\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor=\"new_dish_desc\"\n\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-black tracking-wider text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t\t\t>Descrizione</label\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\tid=\"new_dish_desc\"\n\t\t\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\t\t\tbind:value={dishDescription}\n\t\t\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Ingredienti, allergeni...\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border-2 border-transparent bg-slate-50 p-4 font-bold outline-none focus:border-orange-500\"\n\t\t\t\t\t\t\t\t\t></textarea>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"col-span-2 space-y-3\">\n\t\t\t\t\t\t\t\t\t<p class=\"text-xs font-black tracking-wider text-slate-400 uppercase\">\n\t\t\t\t\t\t\t\t\t\tAllergeni Presenti\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div class=\"grid grid-cols-4 gap-2 sm:grid-cols-7\">\n\t\t\t\t\t\t\t\t\t\t{#each allergensQuery.data ?? [] as allergen}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (selectedAllergenIds.includes(allergen.id)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedAllergenIds = selectedAllergenIds.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(id) => id !== allergen.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedAllergenIds = [...selectedAllergenIds, allergen.id];\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"group relative flex flex-col items-center rounded-2xl border-2 p-3 transition-all {selectedAllergenIds.includes(\n\t\t\t\t\t\t\t\t\t\t\t\t\tallergen.id\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'border-orange-500 bg-orange-50'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'border-slate-50 bg-slate-50 hover:border-slate-200'}\"\n\t\t\t\t\t\t\t\t\t\t\t\ttitle={allergen.name}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-2xl\">{allergen.icon}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-1 line-clamp-1 text-center text-[9px] leading-tight font-black text-slate-500 uppercase group-hover:text-slate-900\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>{allergen.name}</span\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{#if selectedAllergenIds.includes(allergen.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full border-2 border-white bg-orange-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"h-1.5 w-1.5 rounded-full bg-white\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"allergens\" value={selectedAllergenIds.join(', ')} />\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"col-span-2 space-y-2\">\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor=\"new_dish_img\"\n\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-black tracking-wider text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t\t\t>Immagine del Piatto</label\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass=\"group relative flex h-24 w-24 items-center justify-center overflow-hidden rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{#if imagePreview}\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={imagePreview} class=\"h-full w-full object-cover\" alt=\"Preview\" />\n\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t<Utensils size={24} class=\"text-slate-300\" />\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"new_dish_img\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"image\"\n\t\t\t\t\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\t\t\t\t\tonchange={handleImageChange}\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-0 cursor-pointer opacity-0\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1 text-sm font-medium text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\tCarica una foto per rendere il piatto più appetitoso. (Max 2MB)\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex gap-4 pt-4\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 rounded-2xl bg-orange-500 py-5 text-lg font-black text-white shadow-xl shadow-orange-500/20 transition-all hover:bg-orange-600\"\n\t\t\t\t\t\t\t\t\t>Salva Piatto</button\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonclick={() => (showAddDish = false)}\n\t\t\t\t\t\t\t\t\tclass=\"flex-1 rounded-2xl bg-slate-100 py-5 text-lg font-black text-slate-500 transition-all hover:bg-slate-200\"\n\t\t\t\t\t\t\t\t\t>Annulla</button\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\n\t\t\t<div class=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n\t\t\t\t{#each dishesQuery.data ?? [] as dish}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"group flex gap-6 rounded-[2rem] border border-slate-100 bg-white p-6 shadow-sm transition-all duration-300 hover:shadow-xl\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"relative h-32 w-32 flex-shrink-0 overflow-hidden rounded-2xl bg-slate-100\">\n\t\t\t\t\t\t\t{#if dish.image_url}\n\t\t\t\t\t\t\t\t<img src={dish.image_url} alt={dish.name} class=\"h-full w-full object-cover\" />\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<div class=\"flex h-full w-full items-center justify-center text-slate-300\">\n\t\t\t\t\t\t\t\t\t<Utensils size={40} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex-1 space-y-2\">\n\t\t\t\t\t\t\t<div class=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t\t<span class=\"text-xs font-black tracking-widest text-orange-500 uppercase\"\n\t\t\t\t\t\t\t\t\t>{dish.categories?.name}</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"font-black text-slate-900\">€{dish.price}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h3 class=\"text-xl leading-tight font-bold text-slate-900\">{dish.name}</h3>\n\t\t\t\t\t\t\t<p class=\"line-clamp-2 text-sm leading-relaxed text-slate-500\">\n\t\t\t\t\t\t\t\t{dish.description || 'Nessuna descrizione.'}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"flex items-center gap-4 pt-4 opacity-0 transition-all group-hover:opacity-100\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\t\t\t\teditingDish = dish;\n\t\t\t\t\t\t\t\t\t\timagePreview = dish.image_url;\n\t\t\t\t\t\t\t\t\t\tselectedAllergenIds = dish.allergens || [];\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclass=\"text-slate-400 transition-colors hover:text-orange-500\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Edit3 size={18} />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\t\tmethod=\"POST\"\n\t\t\t\t\t\t\t\t\taction=\"?/deleteDish\"\n\t\t\t\t\t\t\t\t\tuse:enhance={() => {\n\t\t\t\t\t\t\t\t\t\treturn async ({ update }) => {\n\t\t\t\t\t\t\t\t\t\t\tawait update();\n\t\t\t\t\t\t\t\t\t\t\tqueryClient.invalidateQueries({ queryKey: ['dishes', data.profile?.id] });\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"id\" value={dish.id} />\n\t\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"text-slate-400 transition-colors hover:text-red-500\">\n\t\t\t\t\t\t\t\t\t\t<Trash2 size={18} />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\n\t\t\t\t{#if editingDish}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 p-4 backdrop-blur-sm\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"animate-in fade-in zoom-in w-full max-w-xl space-y-8 rounded-[2.5rem] bg-white p-10 shadow-2xl duration-300\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t<h3 class=\"text-3xl font-black tracking-tight text-slate-900\">Modifica Piatto</h3>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\t\t\t\teditingDish = null;\n\t\t\t\t\t\t\t\t\t\timagePreview = null;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclass=\"text-slate-400 transition-colors hover:text-slate-900\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Plus size={32} class=\"rotate-45\" />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\tmethod=\"POST\"\n\t\t\t\t\t\t\t\taction=\"?/editDish\"\n\t\t\t\t\t\t\t\tenctype=\"multipart/form-data\"\n\t\t\t\t\t\t\t\tuse:enhance={() => {\n\t\t\t\t\t\t\t\t\treturn async ({ update }) => {\n\t\t\t\t\t\t\t\t\t\teditingDish = null;\n\t\t\t\t\t\t\t\t\t\timagePreview = null;\n\t\t\t\t\t\t\t\t\t\tawait update();\n\t\t\t\t\t\t\t\t\t\tqueryClient.invalidateQueries({ queryKey: ['dishes', data.profile?.id] });\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclass=\"space-y-6\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"id\" value={editingDish.id} />\n\t\t\t\t\t\t\t\t<div class=\"grid grid-cols-2 gap-6\">\n\t\t\t\t\t\t\t\t\t<div class=\"col-span-2 space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\tfor=\"edit_dish_name\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-black tracking-wider text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t>Nome del Piatto</label\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tid=\"edit_dish_name\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={editingDish.name}\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border-2 border-transparent bg-slate-50 p-4 font-bold outline-none focus:border-orange-500\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\tfor=\"edit_dish_price\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-black tracking-wider text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t>Prezzo (€)</label\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tid=\"edit_dish_price\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\t\t\t\t\tstep=\"0.50\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={editingDish.price}\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border-2 border-transparent bg-slate-50 p-4 font-bold outline-none focus:border-orange-500\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\tfor=\"edit_dish_cat\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-black tracking-wider text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t>Categoria</label\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\tid=\"edit_dish_cat\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"category_id\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={editingDish.category_id}\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full appearance-none rounded-2xl border-2 border-transparent bg-slate-50 p-4 font-bold outline-none focus:border-orange-500\"\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{#each categoriesQuery.data ?? [] as category}\n\t\t\t\t\t\t\t\t\t\t\t\t<option value={category.id}>{category.name}</option>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"col-span-2 space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\tfor=\"edit_dish_desc\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-black tracking-wider text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t>Descrizione</label\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\t\tid=\"edit_dish_desc\"\n\t\t\t\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border-2 border-transparent bg-slate-50 p-4 font-bold outline-none focus:border-orange-500\"\n\t\t\t\t\t\t\t\t\t\t\t>{editingDish.description || ''}</textarea\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"col-span-2 space-y-3\">\n\t\t\t\t\t\t\t\t\t\t<p class=\"text-xs font-black tracking-wider text-slate-400 uppercase\">\n\t\t\t\t\t\t\t\t\t\t\tAllergeni Presenti\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<div class=\"grid grid-cols-4 gap-2 sm:grid-cols-7\">\n\t\t\t\t\t\t\t\t\t\t\t{#each allergensQuery.data ?? [] as allergen}\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (selectedAllergenIds.includes(allergen.id)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedAllergenIds = selectedAllergenIds.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(id) => id !== allergen.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedAllergenIds = [...selectedAllergenIds, allergen.id];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"group relative flex flex-col items-center rounded-2xl border-2 p-3 transition-all {selectedAllergenIds.includes(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tallergen.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'border-orange-500 bg-orange-50'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'border-slate-50 bg-slate-50 hover:border-slate-200'}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={allergen.name}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-2xl\">{allergen.icon}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-1 line-clamp-1 text-center text-[9px] leading-tight font-black text-slate-500 uppercase group-hover:text-slate-900\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{allergen.name}</span\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{#if selectedAllergenIds.includes(allergen.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full border-2 border-white bg-orange-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"h-1.5 w-1.5 rounded-full bg-white\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"allergens\" value={selectedAllergenIds.join(', ')} />\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"col-span-2 space-y-2\">\n\t\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\t\tfor=\"edit_dish_img\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-black tracking-wider text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t>Immagine del Piatto</label\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div class=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"group relative flex h-24 w-24 items-center justify-center overflow-hidden rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{#if imagePreview}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={imagePreview}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"h-full w-full object-cover\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"Preview\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Utensils size={24} class=\"text-slate-300\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"edit_dish_img\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"image\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonchange={handleImageChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-0 cursor-pointer opacity-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex-1 text-sm font-medium text-slate-500\">\n\t\t\t\t\t\t\t\t\t\t\t\tCarica una nuova foto se vuoi sostituire quella attuale.\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex gap-4 pt-4\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 rounded-2xl bg-orange-500 py-5 text-lg font-black text-white shadow-xl shadow-orange-500/20 transition-all hover:bg-orange-600\"\n\t\t\t\t\t\t\t\t\t\t>Aggiorna Piatto</button\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\t\t\t\t\teditingDish = null;\n\t\t\t\t\t\t\t\t\t\t\timagePreview = null;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclass=\"flex-1 rounded-2xl bg-slate-100 py-5 text-lg font-black text-slate-500 transition-all hover:bg-slate-200\"\n\t\t\t\t\t\t\t\t\t\t>Annulla</button\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t{#if data.dishes.length === 0}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"rounded-[2rem] border-2 border-dashed border-slate-100 bg-white p-16 text-center md:col-span-2\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"mx-auto max-w-xs space-y-4\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-slate-50 text-slate-300\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Utensils size={32} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h3 class=\"text-lg font-bold text-slate-900\">Inizia ad aggiungere piatti</h3>\n\t\t\t\t\t\t\t<p class=\"text-sm text-slate-500\">\n\t\t\t\t\t\t\t\tCrea una categoria e aggiungi il tuo primo piatto per vederlo apparire qui.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(admin)/onboarding/+page.server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(admin)/onboarding/+page.svelte","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'data' is assigned a value but never used.","line":4,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":12}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script lang=\"ts\">\n\timport { Store, Globe, ArrowRight } from 'lucide-svelte';\n\n\tlet { data, form } = $props();\n\n\tlet restaurantName = $state('');\n\tlet slug = $state('');\n\n\t// Auto-generate slug from restaurant name\n\t$effect(() => {\n\t\tif (restaurantName) {\n\t\t\tslug = restaurantName\n\t\t\t\t.toLowerCase()\n\t\t\t\t.replace(/[^a-z0-9]/g, '-')\n\t\t\t\t.replace(/-+/g, '-')\n\t\t\t\t.replace(/^-|-$/g, '');\n\t\t}\n\t});\n</script>\n\n<div class=\"mx-auto max-w-2xl py-12\">\n\t<div\n\t\tclass=\"relative overflow-hidden rounded-[2.5rem] border border-slate-100 bg-white p-12 shadow-xl shadow-orange-500/5\"\n\t>\n\t\t<div class=\"absolute top-0 right-0 rotate-12 p-12 text-orange-500/5\">\n\t\t\t<Store size={200} />\n\t\t</div>\n\n\t\t<div class=\"relative z-10\">\n\t\t\t<div class=\"mb-8\">\n\t\t\t\t<img src=\"/logo.svg\" alt=\"go!foodmenu\" class=\"h-12 w-auto\" />\n\t\t\t</div>\n\t\t\t<h1 class=\"mb-4 text-4xl font-black tracking-tight text-slate-900\">\n\t\t\t\tIniziamo l'avventura! 🚀\n\t\t\t</h1>\n\t\t\t<p class=\"mb-12 text-lg font-medium text-slate-500\">\n\t\t\t\tConfigura il tuo ristorante in pochi secondi e crea il tuo menu digitale.\n\t\t\t</p>\n\n\t\t\t<form method=\"POST\" class=\"space-y-8\">\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tfor=\"restaurant_name\"\n\t\t\t\t\t\tclass=\"block text-sm font-black tracking-wider text-slate-900 uppercase\"\n\t\t\t\t\t>\n\t\t\t\t\t\tNome del Ristorante\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"group relative\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-6 text-slate-400 transition-colors group-focus-within:text-orange-500\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Store size={22} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"restaurant_name\"\n\t\t\t\t\t\t\tid=\"restaurant_name\"\n\t\t\t\t\t\t\tbind:value={restaurantName}\n\t\t\t\t\t\t\tplaceholder=\"Esempio: Trattoria da Mario\"\n\t\t\t\t\t\t\tclass=\"block w-full rounded-2xl border-2 border-transparent bg-slate-50 py-5 pr-6 pl-14 text-lg font-bold text-slate-900 transition-all outline-none placeholder:text-slate-300 focus:border-orange-500 focus:bg-white\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<label\n\t\t\t\t\t\tfor=\"slug\"\n\t\t\t\t\t\tclass=\"block text-sm font-black tracking-wider text-slate-900 uppercase\"\n\t\t\t\t\t>\n\t\t\t\t\t\tIl tuo link personalizzato\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class=\"group relative\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-6 text-slate-400 transition-colors group-focus-within:text-orange-500\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Globe size={22} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"slug\"\n\t\t\t\t\t\t\tid=\"slug\"\n\t\t\t\t\t\t\tbind:value={slug}\n\t\t\t\t\t\t\tplaceholder=\"trattoria-da-mario\"\n\t\t\t\t\t\t\tclass=\"block w-full rounded-2xl border-2 border-transparent bg-slate-50 py-5 pr-6 pl-14 text-lg font-bold text-slate-900 transition-all outline-none placeholder:text-slate-300 focus:border-orange-500 focus:bg-white\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div class=\"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-6\">\n\t\t\t\t\t\t\t<span class=\"font-bold text-slate-300\">.gofoodmenu.it</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class=\"pl-2 text-xs font-bold text-slate-400\">\n\t\t\t\t\t\tQuesto sarà l'indirizzo che i tuoi clienti useranno. Puoi cambiarlo in seguito.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t{#if form?.error}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"flex items-center gap-2 rounded-xl border border-red-100 bg-red-50 p-4 text-sm font-bold text-red-500\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>⚠️</span>\n\t\t\t\t\t\t{form.error}\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tclass=\"group flex w-full items-center justify-center gap-3 rounded-2xl bg-slate-900 py-6 text-xl font-black text-white shadow-xl shadow-slate-900/10 transition-all hover:bg-slate-800\"\n\t\t\t\t>\n\t\t\t\t\tCrea il mio Ristorante\n\t\t\t\t\t<ArrowRight size={24} class=\"transition-transform group-hover:translate-x-1\" />\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n</div>\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(admin)/qr-generator/+page.svelte","messages":[{"ruleId":"svelte/no-navigation-without-resolve","severity":2,"message":"Unexpected href link without resolve().","line":100,"column":14,"nodeType":null,"messageId":"linkWithoutResolve","endLine":100,"endColumn":23}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script lang=\"ts\">\n\timport { onMount } from 'svelte';\n\timport QRCode from 'qrcode';\n\timport { Download, Share2, ExternalLink, QrCode } from 'lucide-svelte';\n\timport type { PageData } from './$types';\n\n\tlet { data }: { data: PageData } = $props();\n\tlet profile = $derived(data.profile);\n\n\tlet qrDataUrl = $state('');\n\tlet menuUrl = $state('');\n\n\tonMount(async () => {\n\t\tif (profile) {\n\t\t\t// In a real production environment, this would be your actual domain\n\t\t\tconst baseUrl = window.location.origin;\n\t\t\tmenuUrl = `${baseUrl}/${profile.slug}`;\n\n\t\t\ttry {\n\t\t\t\tqrDataUrl = await QRCode.toDataURL(menuUrl, {\n\t\t\t\t\twidth: 1024,\n\t\t\t\t\tmargin: 2,\n\t\t\t\t\tcolor: {\n\t\t\t\t\t\tdark: '#0f172a', // slate-900\n\t\t\t\t\t\tlight: '#ffffff'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Errore generazione QR:', err);\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction downloadQR() {\n\t\tconst link = document.createElement('a');\n\t\tlink.href = qrDataUrl;\n\t\tlink.download = `qrcode-${profile?.slug}.png`;\n\t\tlink.click();\n\t}\n</script>\n\n<div class=\"mx-auto max-w-4xl space-y-12\">\n\t<div class=\"flex items-end justify-between\">\n\t\t<div>\n\t\t\t<h1 class=\"text-4xl font-black tracking-tight text-slate-900\">QR Code del Menu</h1>\n\t\t\t<p class=\"mt-2 font-medium text-slate-500\">Scarica il codice e stampalo per i tuoi tavoli.</p>\n\t\t</div>\n\t</div>\n\n\t<div class=\"grid grid-cols-1 items-center gap-12 md:grid-cols-2\">\n\t\t<!-- QR Preview Card -->\n\t\t<div\n\t\t\tclass=\"group relative flex flex-col items-center space-y-8 overflow-hidden rounded-[3rem] border border-slate-100 bg-white p-12 shadow-xl\"\n\t\t>\n\t\t\t<div class=\"absolute top-0 left-0 h-2 w-full bg-orange-500\"></div>\n\n\t\t\t<div\n\t\t\t\tclass=\"rounded-[2rem] border-2 border-dashed border-slate-200 bg-slate-50 p-8 transition-colors duration-500 group-hover:border-orange-200\"\n\t\t\t>\n\t\t\t\t{#if qrDataUrl}\n\t\t\t\t\t<img src={qrDataUrl} alt=\"QR Code\" class=\"h-64 w-64 rounded-xl shadow-sm\" />\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"flex h-64 w-64 items-center justify-center text-slate-300\">\n\t\t\t\t\t\t<QrCode size={80} class=\"animate-pulse\" />\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\n\t\t\t<div class=\"text-center\">\n\t\t\t\t<h3 class=\"text-2xl font-black tracking-tight text-slate-900\">\n\t\t\t\t\t{profile?.restaurant_name}\n\t\t\t\t</h3>\n\t\t\t\t<p class=\"mt-1 text-sm font-bold text-slate-400\">\n\t\t\t\t\tEseguire la scansione per aprire il menù\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div class=\"flex w-full gap-4 pt-4\">\n\t\t\t\t<button\n\t\t\t\t\tonclick={downloadQR}\n\t\t\t\t\tclass=\"flex flex-1 items-center justify-center gap-3 rounded-2xl bg-slate-900 py-4 font-black text-white shadow-xl shadow-slate-900/10 transition-all hover:bg-slate-800\"\n\t\t\t\t>\n\t\t\t\t\t<Download size={20} />\n\t\t\t\t\tScarica PNG\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Instructions & Link -->\n\t\t<div class=\"space-y-8\">\n\t\t\t<div\n\t\t\t\tclass=\"group relative overflow-hidden rounded-[2.5rem] bg-orange-500 p-10 text-white shadow-xl shadow-orange-500/20\"\n\t\t\t>\n\t\t\t\t<div class=\"relative z-10 space-y-6\">\n\t\t\t\t\t<h2 class=\"text-3xl leading-tight font-black tracking-tight\">Il tuo link è pronto.</h2>\n\t\t\t\t\t<div class=\"rounded-2xl border border-white/20 bg-white/10 p-6 backdrop-blur-md\">\n\t\t\t\t\t\t<div class=\"flex items-center justify-between gap-4\">\n\t\t\t\t\t\t\t<span class=\"truncate overflow-hidden font-bold text-orange-50\">{menuUrl}</span>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={menuUrl}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tclass=\"rounded-xl bg-white p-3 text-orange-500 transition-colors hover:bg-orange-50\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ExternalLink size={20} />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class=\"leading-relaxed font-medium text-orange-100\">\n\t\t\t\t\t\tI tuoi clienti potranno accedere istantaneamente al tuo menu inquadrando il codice con\n\t\t\t\t\t\tla fotocamera.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"absolute -right-10 -bottom-10 rotate-12 text-white/10 transition-transform duration-700 group-hover:scale-110\"\n\t\t\t\t>\n\t\t\t\t\t<QrCode size={200} />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"grid grid-cols-2 gap-4\">\n\t\t\t\t<div class=\"space-y-2 rounded-3xl border border-slate-100 bg-white p-6\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-50 text-emerald-500\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Share2 size={20} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<h4 class=\"text-sm font-black text-slate-900\">Alta Qualità</h4>\n\t\t\t\t\t<p class=\"text-xs font-medium text-slate-500\">\n\t\t\t\t\t\tQR generato a 1024px per una stampa perfetta.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"space-y-2 rounded-3xl border border-slate-100 bg-white p-6\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"flex h-10 w-10 items-center justify-center rounded-xl bg-orange-50 text-orange-500\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<QrCode size={20} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<h4 class=\"text-sm font-black text-slate-900\">Sempre Attivo</h4>\n\t\t\t\t\t<p class=\"text-xs font-medium text-slate-500\">\n\t\t\t\t\t\tIl link non scade mai e si aggiorna con il menu.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(admin)/restaurant-profile/+page.server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(admin)/restaurant-profile/+page.svelte","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Clock' is defined but never used.","line":10,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'uploadData' is assigned a value but never used.","line":38,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":38,"endColumn":28},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":323,"column":5,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":392,"endColumn":12},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":356,"column":9,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":388,"endColumn":16}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script lang=\"ts\">\n\timport {\n\t\tStore,\n\t\tMapPin,\n\t\tPhone,\n\t\tGlobe,\n\t\tInstagram,\n\t\tFacebook,\n\t\tMessageCircle,\n\t\tClock,\n\t\tSave,\n\t\tCamera,\n\t\tPlus,\n\t\tTrash2\n\t} from 'lucide-svelte';\n\timport { enhance } from '$app/forms';\n\timport { fade, slide } from 'svelte/transition';\n\timport type { PageData, ActionData } from './$types';\n\n\tlet { data, form }: { data: PageData; form: ActionData } = $props();\n\n\tlet profile = $state(data.profile || {});\n\tlet isSaving = $state(false);\n\tlet isUploading = $state(false);\n\tlet fileInput: HTMLInputElement;\n\n\tasync function uploadLogo(event: Event) {\n\t\tconst target = event.target as HTMLInputElement;\n\t\tconst file = target.files?.[0];\n\t\tif (!file) return;\n\n\t\ttry {\n\t\t\tisUploading = true;\n\t\t\tconst fileExt = file.name.split('.').pop();\n\t\t\tconst fileName = `${data.session?.user.id}/logo-${Math.random()}.${fileExt}`;\n\t\t\tconst filePath = `${fileName}`;\n\n\t\t\tconst { data: uploadData, error: uploadError } = await data.supabase.storage\n\t\t\t\t.from('menu-images')\n\t\t\t\t.upload(filePath, file, {\n\t\t\t\t\tupsert: true\n\t\t\t\t});\n\n\t\t\tif (uploadError) throw uploadError;\n\n\t\t\tconst {\n\t\t\t\tdata: { publicUrl }\n\t\t\t} = data.supabase.storage.from('menu-images').getPublicUrl(filePath);\n\n\t\t\tprofile.logo_url = publicUrl;\n\t\t} catch (error) {\n\t\t\tconsole.error('Error uploading logo:', error);\n\t\t\talert('Errore durante il caricamento del logo');\n\t\t} finally {\n\t\t\tisUploading = false;\n\t\t}\n\t}\n\n\t// Initialize opening hours if empty\n\tconst daysOfWeek = ['Lunedì', 'Martedì', 'Mercoledì', 'Giovedì', 'Venerdì', 'Sabato', 'Domenica'];\n\n\tlet openingHours = $state(\n\t\tprofile.opening_hours ||\n\t\t\tdaysOfWeek.map((day) => ({\n\t\t\t\tday,\n\t\t\t\tisOpen: false,\n\t\t\t\tperiods: [{ open: '09:00', close: '18:00' }]\n\t\t\t}))\n\t);\n\n\tfunction addPeriod(dayIndex: number) {\n\t\topeningHours[dayIndex].periods.push({ open: '19:00', close: '23:00' });\n\t}\n\n\tfunction removePeriod(dayIndex: number, periodIndex: number) {\n\t\topeningHours[dayIndex].periods = openingHours[dayIndex].periods.filter(\n\t\t\t(_, i) => i !== periodIndex\n\t\t);\n\t}\n\n\tfunction toggleDay(dayIndex: number) {\n\t\topeningHours[dayIndex].isOpen = !openingHours[dayIndex].isOpen;\n\t}\n</script>\n\n<div class=\"mx-auto max-w-4xl space-y-12 pb-24\">\n\t<!-- Header -->\n\t<header\n\t\tclass=\"flex flex-col justify-between gap-6 border-b border-slate-100 pb-8 md:flex-row md:items-end\"\n\t>\n\t\t<div>\n\t\t\t<h1 class=\"flex items-center gap-3 text-4xl font-black tracking-tight text-slate-900\">\n\t\t\t\t<Store size={36} class=\"text-orange-500\" />\n\t\t\t\tProfilo Ristorante\n\t\t\t</h1>\n\t\t\t<p class=\"mt-2 font-medium text-slate-500\">\n\t\t\t\tGestisci le informazioni del tuo locale visibili ai clienti.\n\t\t\t</p>\n\t\t</div>\n\n\t\t<div class=\"flex gap-3\">\n\t\t\t<button\n\t\t\t\ttype=\"submit\"\n\t\t\t\tform=\"profile-form\"\n\t\t\t\tdisabled={isSaving}\n\t\t\t\tclass=\"group flex items-center gap-2 rounded-2xl bg-orange-500 px-8 py-4 font-bold text-white shadow-lg shadow-orange-500/30 transition-all hover:bg-orange-600 disabled:opacity-50\"\n\t\t\t>\n\t\t\t\t{#if isSaving}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"h-5 w-5 animate-spin rounded-full border-2 border-white/30 border-t-white\"\n\t\t\t\t\t></div>\n\t\t\t\t{:else}\n\t\t\t\t\t<Save size={20} />\n\t\t\t\t{/if}\n\t\t\t\tSalva Modifiche\n\t\t\t</button>\n\t\t</div>\n\t</header>\n\n\t{#if form?.success}\n\t\t<div\n\t\t\ttransition:fade\n\t\t\tclass=\"flex items-center gap-3 rounded-2xl border border-emerald-100 bg-emerald-50 px-6 py-4 font-bold text-emerald-700\"\n\t\t>\n\t\t\t<div class=\"flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-500 text-white\">\n\t\t\t\t<Save size={18} />\n\t\t\t</div>\n\t\t\tProfilo aggiornato con successo!\n\t\t</div>\n\t{/if}\n\n\t{#if form?.error}\n\t\t<div\n\t\t\ttransition:fade\n\t\t\tclass=\"flex items-center gap-3 rounded-2xl border border-red-100 bg-red-50 px-6 py-4 font-bold text-red-700\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclass=\"flex h-8 w-8 items-center justify-center rounded-lg bg-red-500 text-sm text-white\"\n\t\t\t>\n\t\t\t\t!\n\t\t\t</div>\n\t\t\t{form.error}\n\t\t</div>\n\t{/if}\n\n\t<form\n\t\tid=\"profile-form\"\n\t\tmethod=\"POST\"\n\t\taction=\"?/updateProfile\"\n\t\tuse:enhance={() => {\n\t\t\tisSaving = true;\n\t\t\treturn async ({ update }) => {\n\t\t\t\tisSaving = false;\n\t\t\t\tawait update();\n\t\t\t};\n\t\t}}\n\t\tclass=\"space-y-12\"\n\t>\n\t\t<!-- Hidden input for JSON opening hours -->\n\t\t<input type=\"hidden\" name=\"opening_hours\" value={JSON.stringify(openingHours)} />\n\n\t\t<!-- Section: Basic Info -->\n\t\t<section class=\"grid grid-cols-1 gap-8 lg:grid-cols-3\">\n\t\t\t<div class=\"space-y-2\">\n\t\t\t\t<h3 class=\"text-xl font-black text-slate-900\">Informazioni Base</h3>\n\t\t\t\t<p class=\"text-sm font-medium text-slate-500\">\n\t\t\t\t\tIl nome e il volto del tuo ristorante sul web.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tclass=\"space-y-6 rounded-[2.5rem] border border-slate-100 bg-white p-8 shadow-sm lg:col-span-2\"\n\t\t\t>\n\t\t\t\t<div class=\"flex flex-col items-start gap-8 md:flex-row\">\n\t\t\t\t\t<div class=\"group relative\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"relative flex h-32 w-32 flex-col items-center justify-center overflow-hidden rounded-3xl border-2 border-dashed border-slate-200 bg-slate-50 text-slate-400\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{#if isUploading}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"h-8 w-8 animate-spin rounded-full border-2 border-orange-500/30 border-t-orange-500\"\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t{:else if profile.logo_url}\n\t\t\t\t\t\t\t\t<img src={profile.logo_url} alt=\"Logo\" class=\"h-full w-full object-cover\" />\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<Camera size={28} />\n\t\t\t\t\t\t\t\t<span class=\"mt-2 text-[10px] font-bold uppercase\">Logo</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonclick={() => fileInput.click()}\n\t\t\t\t\t\t\tclass=\"absolute -right-2 -bottom-2 transform rounded-xl bg-orange-500 p-2 text-white shadow-lg transition-transform group-hover:scale-110\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Plus size={16} />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\tbind:this={fileInput}\n\t\t\t\t\t\t\tonchange={uploadLogo}\n\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\tclass=\"hidden\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"logo_url\" value={profile.logo_url || ''} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"w-full flex-1 space-y-6\">\n\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\tfor=\"restaurant_name\"\n\t\t\t\t\t\t\t\tclass=\"text-xs font-black tracking-widest text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t>Nome Ristorante</label\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"restaurant_name\"\n\t\t\t\t\t\t\t\tname=\"restaurant_name\"\n\t\t\t\t\t\t\t\tbind:value={profile.restaurant_name}\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border border-slate-100 bg-slate-50 px-6 py-4 font-bold text-slate-900 transition-all outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10\"\n\t\t\t\t\t\t\t\tplaceholder=\"Esempio: Osteria da Giorgio\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\tfor=\"description\"\n\t\t\t\t\t\t\t\tclass=\"text-xs font-black tracking-widest text-slate-400 uppercase\"\n\t\t\t\t\t\t\t\t>Breve Descrizione</label\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\tbind:value={profile.description}\n\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\tclass=\"w-full resize-none rounded-2xl border border-slate-100 bg-slate-50 px-6 py-4 font-medium text-slate-700 transition-all outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10\"\n\t\t\t\t\t\t\t\tplaceholder=\"Racconta brevemente chi sei...\"\n\t\t\t\t\t\t\t></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\n\t\t<!-- Section: Contact & Location -->\n\t\t<section class=\"grid grid-cols-1 gap-8 lg:grid-cols-3\">\n\t\t\t<div class=\"space-y-2\">\n\t\t\t\t<h3 class=\"text-xl font-black text-slate-900\">Contatti e Località</h3>\n\t\t\t\t<p class=\"text-sm font-medium text-slate-500\">\n\t\t\t\t\tAiuta i tuoi clienti a trovarti e a prenotare.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tclass=\"space-y-6 rounded-[2.5rem] border border-slate-100 bg-white p-8 shadow-sm lg:col-span-2\"\n\t\t\t>\n\t\t\t\t<div class=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tfor=\"address\"\n\t\t\t\t\t\t\tclass=\"flex items-center gap-2 text-xs font-black tracking-widest text-slate-400 uppercase\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MapPin size={14} /> Indirizzo\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tid=\"address\"\n\t\t\t\t\t\t\tname=\"address\"\n\t\t\t\t\t\t\tbind:value={profile.address}\n\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border border-slate-100 bg-slate-50 px-6 py-4 font-bold text-slate-900 transition-all outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10\"\n\t\t\t\t\t\t\tplaceholder=\"Via Roma 1, Milano\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tfor=\"phone\"\n\t\t\t\t\t\t\tclass=\"flex items-center gap-2 text-xs font-black tracking-widest text-slate-400 uppercase\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Phone size={14} /> Numero di Telefono\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\tbind:value={profile.phone}\n\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border border-slate-100 bg-slate-50 px-6 py-4 font-bold text-slate-900 transition-all outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10\"\n\t\t\t\t\t\t\tplaceholder=\"+39 012 3456789\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"space-y-2 md:col-span-2\">\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tfor=\"website_url\"\n\t\t\t\t\t\t\tclass=\"flex items-center gap-2 text-xs font-black tracking-widest text-slate-400 uppercase\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Globe size={14} /> Sito Web\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\tid=\"website_url\"\n\t\t\t\t\t\t\tname=\"website_url\"\n\t\t\t\t\t\t\tbind:value={profile.website_url}\n\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border border-slate-100 bg-slate-50 px-6 py-4 font-bold text-slate-900 transition-all outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10\"\n\t\t\t\t\t\t\tplaceholder=\"https://www.tuoristorante.it\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\n\t\t<!-- Section: Opening Hours -->\n\t\t<section class=\"grid grid-cols-1 gap-8 lg:grid-cols-3\">\n\t\t\t<div class=\"space-y-2\">\n\t\t\t\t<h3 class=\"text-xl font-black text-slate-900\">Orari di Apertura</h3>\n\t\t\t\t<p class=\"text-sm font-medium text-slate-500\">\n\t\t\t\t\tConfigura i giorni e gli orari in cui sei operativo.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tclass=\"space-y-4 rounded-[2.5rem] border border-slate-100 bg-white p-8 shadow-sm lg:col-span-2\"\n\t\t\t>\n\t\t\t\t{#each openingHours as day, i}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"rounded-2xl p-4 transition-all duration-300 {day.isOpen\n\t\t\t\t\t\t\t? 'bg-slate-50'\n\t\t\t\t\t\t\t: 'border border-slate-50 bg-transparent'}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<div class=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonclick={() => toggleDay(i)}\n\t\t\t\t\t\t\t\t\tclass=\"relative h-6 w-12 rounded-full transition-colors duration-200 focus:outline-none {day.isOpen\n\t\t\t\t\t\t\t\t\t\t? 'bg-orange-500'\n\t\t\t\t\t\t\t\t\t\t: 'bg-slate-200'}\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"absolute top-1 h-4 w-4 rounded-full bg-white transition-all duration-200 {day.isOpen\n\t\t\t\t\t\t\t\t\t\t\t? 'right-1'\n\t\t\t\t\t\t\t\t\t\t\t: 'left-1'}\"\n\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<span class=\"text-sm font-black tracking-wider text-slate-900 uppercase\"\n\t\t\t\t\t\t\t\t\t>{day.day}</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{#if !day.isOpen}\n\t\t\t\t\t\t\t\t<span class=\"text-xs font-bold text-slate-400 uppercase italic\">Chiuso</span>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if day.isOpen}\n\t\t\t\t\t\t\t<div transition:slide class=\"mt-4 space-y-3\">\n\t\t\t\t\t\t\t\t{#each day.periods as period, pi}\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={period.open}\n\t\t\t\t\t\t\t\t\t\t\tclass=\"rounded-xl border border-slate-100 bg-white px-4 py-2 text-sm font-bold outline-none focus:ring-2 focus:ring-orange-500/20\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<span class=\"font-black text-slate-300\">-</span>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\t\t\tbind:value={period.close}\n\t\t\t\t\t\t\t\t\t\t\tclass=\"rounded-xl border border-slate-100 bg-white px-4 py-2 text-sm font-bold outline-none focus:ring-2 focus:ring-orange-500/20\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{#if day.periods.length > 1}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\tonclick={() => removePeriod(i, pi)}\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"p-2 text-slate-400 hover:text-red-500\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Trash2 size={16} />\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t{#if pi === day.periods.length - 1}\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\tonclick={() => addPeriod(i)}\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex items-center gap-1.5 rounded-xl px-3 py-2 text-xs font-bold text-orange-500 transition-colors hover:bg-orange-50\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Plus size={14} /> Aggiungi Fascia\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t</section>\n\n\t\t<!-- Section: Social Media -->\n\t\t<section class=\"grid grid-cols-1 gap-8 lg:grid-cols-3\">\n\t\t\t<div class=\"space-y-2\">\n\t\t\t\t<h3 class=\"text-xl font-black text-slate-900\">Social Media</h3>\n\t\t\t\t<p class=\"text-sm font-medium text-slate-500\">\n\t\t\t\t\tCollega i tuoi profili social per farti seguire.\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tclass=\"space-y-6 rounded-[2.5rem] border border-slate-100 bg-white p-8 leading-relaxed shadow-sm lg:col-span-2\"\n\t\t\t>\n\t\t\t\t<div class=\"grid grid-cols-1 gap-6 md:grid-cols-2\">\n\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tfor=\"instagram\"\n\t\t\t\t\t\t\tclass=\"flex items-center gap-2 text-xs font-black tracking-widest text-slate-400 uppercase\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Instagram size={14} class=\"text-pink-500\" /> Instagram URL\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\tid=\"instagram\"\n\t\t\t\t\t\t\tname=\"instagram_url\"\n\t\t\t\t\t\t\tbind:value={profile.instagram_url}\n\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border border-slate-100 bg-slate-50 px-6 py-4 font-bold text-slate-900 transition-all outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10\"\n\t\t\t\t\t\t\tplaceholder=\"https://instagram.com/tuo-profilo\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tfor=\"facebook\"\n\t\t\t\t\t\t\tclass=\"flex items-center gap-2 text-xs font-black tracking-widest text-slate-400 uppercase\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Facebook size={14} class=\"text-blue-600\" /> Facebook URL\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"url\"\n\t\t\t\t\t\t\tid=\"facebook\"\n\t\t\t\t\t\t\tname=\"facebook_url\"\n\t\t\t\t\t\t\tbind:value={profile.facebook_url}\n\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border border-slate-100 bg-slate-50 px-6 py-4 font-bold text-slate-900 transition-all outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10\"\n\t\t\t\t\t\t\tplaceholder=\"https://facebook.com/tua-pagina\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"space-y-2 md:col-span-2\">\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tfor=\"whatsapp\"\n\t\t\t\t\t\t\tclass=\"flex items-center gap-2 text-xs font-black tracking-widest text-slate-400 uppercase\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MessageCircle size={14} class=\"text-emerald-500\" /> WhatsApp (Numero)\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class=\"relative\">\n\t\t\t\t\t\t\t<span class=\"absolute top-1/2 left-6 -translate-y-1/2 font-bold text-slate-400\"\n\t\t\t\t\t\t\t\t>+39</span\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"whatsapp\"\n\t\t\t\t\t\t\t\tname=\"whatsapp_number\"\n\t\t\t\t\t\t\t\tbind:value={profile.whatsapp_number}\n\t\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border border-slate-100 bg-slate-50 py-4 pr-6 pl-16 font-bold text-slate-900 transition-all outline-none focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10\"\n\t\t\t\t\t\t\t\tplaceholder=\"333 1234567\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t</form>\n</div>\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(public)/[slug]/+page.server.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'dishesTable' is defined but never used.","line":7,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":23}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { error } from '@sveltejs/kit';\nimport type { PageServerLoad } from './$types';\nimport { db } from '$lib/db';\nimport {\n\tprofiles as profilesTable,\n\tcategories as categoriesTable,\n\tdishes as dishesTable,\n\tallergens as allergensTable\n} from '$lib/db/schema';\nimport { eq, asc } from 'drizzle-orm';\n\nexport const load: PageServerLoad = async ({ params }) => {\n\tconst { slug } = params;\n\n\t// Fetch restaurant profile\n\tconst profile = await db.query.profiles.findFirst({\n\t\twhere: eq(profilesTable.slug, slug)\n\t});\n\n\tif (!profile) {\n\t\tthrow error(404, 'Ristorante non trovato');\n\t}\n\n\t// Fetch categories with dishes\n\t// Using relational queries for cleaner nesting\n\tconst categories = await db.query.categories.findMany({\n\t\twhere: eq(categoriesTable.restaurant_id, profile.id),\n\t\torderBy: [asc(categoriesTable.sort_order)],\n\t\twith: {\n\t\t\tdishes: true\n\t\t}\n\t});\n\n\t// Fetch allergens for mapping\n\tconst allergens = await db.query.allergens.findMany({\n\t\torderBy: [asc(allergensTable.number)]\n\t});\n\n\treturn {\n\t\tprofile,\n\t\tcategories: categories || [],\n\t\tallergens: allergens || []\n\t};\n};\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/(public)/[slug]/+page.svelte","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Search' is defined but never used.","line":8,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Leaf' is defined but never used.","line":13,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":7},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Button' is defined but never used.","line":21,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":58,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1559,1562],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1559,1562],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'isScrolled' is assigned a value but never used.","line":59,"column":6,"nodeType":null,"messageId":"unusedVar","endLine":59,"endColumn":16},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":104,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":104,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2811,2814],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2811,2814],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":119,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3143,3146],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3143,3146],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":120,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":120,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3173,3176],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3173,3176],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":122,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":122,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3214,3217],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3214,3217],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'dish' is defined but never used.","line":139,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":139,"endColumn":24},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":139,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":139,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3596,3599],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3596,3599],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":247,"column":6,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":261,"endColumn":13},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":292,"column":9,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":377,"endColumn":16},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":340,"column":13,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":369,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":341,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":341,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11533,11536],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11533,11536],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":342,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":342,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11564,11567],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11564,11567],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"svelte/no-navigation-without-resolve","severity":2,"message":"Unexpected href link without resolve().","line":619,"column":17,"nodeType":null,"messageId":"linkWithoutResolve","endLine":619,"endColumn":40},{"ruleId":"svelte/no-navigation-without-resolve","severity":2,"message":"Unexpected href link without resolve().","line":628,"column":17,"nodeType":null,"messageId":"linkWithoutResolve","endLine":628,"endColumn":39},{"ruleId":"svelte/no-navigation-without-resolve","severity":2,"message":"Unexpected href link without resolve().","line":637,"column":17,"nodeType":null,"messageId":"linkWithoutResolve","endLine":637,"endColumn":38},{"ruleId":"svelte/require-each-key","severity":2,"message":"Each block should have a key","line":716,"column":10,"nodeType":"SvelteEachBlock","messageId":"expectedKey","endLine":730,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":717,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":717,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[25987,25990],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[25987,25990],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":718,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":718,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[26015,26018],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[26015,26018],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":22,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script lang=\"ts\">\n\timport { onMount } from 'svelte';\n\timport { fade, fly, scale } from 'svelte/transition';\n\timport { cubicOut, backOut } from 'svelte/easing';\n\timport {\n\t\tUtensils,\n\t\tInfo,\n\t\tSearch,\n\t\tMapPin,\n\t\tClock,\n\t\tChevronRight,\n\t\tLayoutGrid,\n\t\tLeaf,\n\t\tCamera,\n\t\tPhone,\n\t\tGlobe,\n\t\tInstagram,\n\t\tFacebook\n\t} from 'lucide-svelte';\n\timport type { PageData } from './$types';\n\timport { Button } from '$lib/components/ui/button';\n\timport { Badge } from '$lib/components/ui/badge';\n\timport * as Sheet from '$lib/components/ui/sheet/index.js';\n\timport PreviewWrapper from '$lib/components/PreviewWrapper.svelte';\n\timport GlutenFreeIcon from '$lib/components/icons/GlutenFreeIcon.svelte';\n\n\tlet { data } = $props<{ data: PageData }>();\n\tlet profile = $derived(data.profile);\n\tlet categories = $derived(data.categories);\n\n\tlet activeCategory = $state<number | undefined>();\n\t$effect(() => {\n\t\tif (!activeCategory && data.categories?.length) {\n\t\t\tactiveCategory = data.categories[0].id;\n\t\t}\n\t});\n\n\t// Swipe State\n\tlet touchStart = $state(0);\n\tlet touchEnd = $state(0);\n\n\t// Category Refs for centering\n\tlet categoryRefs = $state<Record<number, HTMLElement>>({});\n\n\t// Set initial category once data is available (already handled in initialization above)\n\n\t// Auto-center the active category pill\n\t$effect(() => {\n\t\tif (activeCategory !== undefined && categoryRefs[activeCategory]) {\n\t\t\tcategoryRefs[activeCategory].scrollIntoView({\n\t\t\t\tbehavior: 'smooth',\n\t\t\t\tblock: 'nearest',\n\t\t\t\tinline: 'center'\n\t\t\t});\n\t\t}\n\t});\n\n\tlet currentCat = $derived(categories.find((c: any) => c.id === activeCategory));\n\tlet isScrolled = $state(false);\n\n\t// Page Navigation State\n\ttype NavPage = 'menu' | 'events' | 'contacts';\n\tlet currentPage = $state<NavPage>('menu');\n\tlet isSidebarOpen = $state(false);\n\n\tlet hoveredTag = $state<string | null>(null);\n\tlet scrollContainer = $state<HTMLElement>();\n\n\tonMount(() => {\n\t\tconst handleScroll = () => {\n\t\t\tif (scrollContainer) {\n\t\t\t\t// Higher threshold for sticky header feel\n\t\t\t\tisScrolled = scrollContainer.scrollTop > 60;\n\t\t\t}\n\t\t};\n\t\tif (scrollContainer) {\n\t\t\tscrollContainer.addEventListener('scroll', handleScroll);\n\t\t}\n\t\treturn () => {\n\t\t\tif (scrollContainer) scrollContainer.removeEventListener('scroll', handleScroll);\n\t\t};\n\t});\n\n\tfunction selectCategory(id: number) {\n\t\tactiveCategory = id;\n\t\tif (scrollContainer) scrollContainer.scrollTo({ top: 0, behavior: 'smooth' });\n\t}\n\n\tfunction handleTouchStart(e: TouchEvent) {\n\t\ttouchStart = e.touches[0].clientX;\n\t}\n\n\tfunction handleTouchMove(e: TouchEvent) {\n\t\ttouchEnd = e.touches[0].clientX;\n\t}\n\n\tfunction handleTouchEnd() {\n\t\tif (!touchStart || !touchEnd) return;\n\n\t\tconst distance = touchStart - touchEnd;\n\t\tconst isLeftSwipe = distance > 50;\n\t\tconst isRightSwipe = distance < -50;\n\n\t\tconst currentIndex = categories.findIndex((c: any) => c.id === activeCategory);\n\n\t\tif (isLeftSwipe && currentIndex < categories.length - 1) {\n\t\t\tselectCategory(categories[currentIndex + 1].id);\n\t\t}\n\n\t\tif (isRightSwipe && currentIndex > 0) {\n\t\t\tselectCategory(categories[currentIndex - 1].id);\n\t\t}\n\n\t\ttouchStart = 0;\n\t\ttouchEnd = 0;\n\t}\n\n\t// Haptic & Peek State\n\tlet hapticTimer: any;\n\tlet peekedDish = $state<any>(null);\n\n\tfunction startHaptic(dish: any) {\n\t\tif (typeof navigator !== 'undefined') {\n\t\t\thapticTimer = setTimeout(() => {\n\t\t\t\t// 1. Trigger Vibration\n\t\t\t\tif (navigator.vibrate) navigator.vibrate([40, 30, 30]);\n\n\t\t\t\t// 2. Show Peek Preview\n\t\t\t\tpeekedDish = dish;\n\t\t\t}, 150); // Faster, more tactile response\n\t\t}\n\t}\n\n\tfunction stopHaptic() {\n\t\tclearTimeout(hapticTimer);\n\t\tpeekedDish = null;\n\t}\n\n\tfunction openDish(dish: any) {\n\t\t// No longer opens a sheet, but could trigger haptic again or nothing\n\t\tstopHaptic();\n\t}\n</script>\n\n<PreviewWrapper>\n\t<!-- TOP FIXED NAVBAR -->\n\t<div\n\t\tclass=\"absolute inset-x-0 top-0 z-[60] flex flex-col border-b border-white/5 bg-[#141417]/80 pt-6 backdrop-blur-xl select-none\"\n\t>\n\t\t<!-- Identity Row -->\n\t\t<div class=\"flex items-center justify-between gap-4 px-6 pb-6\">\n\t\t\t<!-- Restaurant Icon / Sidebar Trigger -->\n\t\t\t<Sheet.Root bind:open={isSidebarOpen}>\n\t\t\t\t<Sheet.Trigger\n\t\t\t\t\tclass=\"flex h-16 w-16 flex-shrink-0 items-center justify-center overflow-hidden rounded-2xl bg-orange-500 shadow-lg shadow-orange-500/10 transition-transform hover:scale-105 active:scale-95\"\n\t\t\t\t>\n\t\t\t\t\t{#if profile.logo_url}\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={profile.logo_url}\n\t\t\t\t\t\t\talt={profile.restaurant_name}\n\t\t\t\t\t\t\tclass=\"h-full w-full object-cover\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<Utensils class=\"h-8 w-8 text-white\" />\n\t\t\t\t\t{/if}\n\t\t\t\t</Sheet.Trigger>\n\t\t\t\t<Sheet.Content\n\t\t\t\t\tside=\"left\"\n\t\t\t\t\tportalProps={{ to: '#preview-device-frame' }}\n\t\t\t\t\toverlayProps={{ class: 'absolute z-[90]' }}\n\t\t\t\t\tclass=\"no-scrollbar absolute z-[100] w-[300px] overflow-y-auto border-white/5 bg-[#141417] p-0 sm:w-[350px]\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"space-y-8 p-8\">\n\t\t\t\t\t\t<!-- Navigation Section -->\n\t\t\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t\t\t<div class=\"mb-2 flex items-center gap-3 text-orange-500\">\n\t\t\t\t\t\t\t\t<LayoutGrid size={16} />\n\t\t\t\t\t\t\t\t<span class=\"text-[10px] font-black tracking-[0.2em] uppercase\">Navigazione</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<nav class=\"grid gap-2\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\t\t\t\tcurrentPage = 'menu';\n\t\t\t\t\t\t\t\t\t\tisSidebarOpen = false;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclass=\"group flex w-full items-center gap-3 rounded-xl px-4 py-3 transition-all duration-300\n                           {currentPage === 'menu'\n\t\t\t\t\t\t\t\t\t\t? 'bg-orange-500 text-white'\n\t\t\t\t\t\t\t\t\t\t: 'text-zinc-400 hover:bg-white/5 hover:text-white'}\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Utensils\n\t\t\t\t\t\t\t\t\t\tsize={18}\n\t\t\t\t\t\t\t\t\t\tclass={currentPage === 'menu' ? 'text-white' : 'text-orange-500'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span class=\"text-sm font-bold\">Il Nostro Menù</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\t\t\t\tcurrentPage = 'events';\n\t\t\t\t\t\t\t\t\t\tisSidebarOpen = false;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclass=\"group flex w-full items-center gap-3 rounded-xl px-4 py-3 transition-all duration-300\n                           {currentPage === 'events'\n\t\t\t\t\t\t\t\t\t\t? 'bg-orange-500 text-white'\n\t\t\t\t\t\t\t\t\t\t: 'text-zinc-400 hover:bg-white/5 hover:text-white'}\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Clock\n\t\t\t\t\t\t\t\t\t\tsize={18}\n\t\t\t\t\t\t\t\t\t\tclass={currentPage === 'events' ? 'text-white' : 'text-orange-500'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span class=\"text-sm font-bold\">Eventi Speciali</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonclick={() => {\n\t\t\t\t\t\t\t\t\t\tcurrentPage = 'contacts';\n\t\t\t\t\t\t\t\t\t\tisSidebarOpen = false;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclass=\"group flex w-full items-center gap-3 rounded-xl px-4 py-3 transition-all duration-300\n                           {currentPage === 'contacts'\n\t\t\t\t\t\t\t\t\t\t? 'bg-orange-500 text-white'\n\t\t\t\t\t\t\t\t\t\t: 'text-zinc-400 hover:bg-white/5 hover:text-white'}\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Info\n\t\t\t\t\t\t\t\t\t\tsize={18}\n\t\t\t\t\t\t\t\t\t\tclass={currentPage === 'contacts' ? 'text-white' : 'text-orange-500'}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span class=\"text-sm font-bold\">Contatti & Info</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Sheet.Content>\n\t\t\t</Sheet.Root>\n\n\t\t\t<!-- Right: Gluten-Free Toggle/Icon -->\n\t\t\t<button\n\t\t\t\tclass=\"flex h-16 w-16 items-center justify-center rounded-2xl border border-white/5 bg-white/5 shadow-lg transition-all hover:bg-white/10 active:scale-95\"\n\t\t\t>\n\t\t\t\t<GlutenFreeIcon size={32} class=\"text-orange-500\" />\n\t\t\t</button>\n\t\t</div>\n\n\t\t<!-- Categories Tabs -->\n\t\t{#if currentPage === 'menu'}\n\t\t\t<div class=\"no-scrollbar overflow-x-auto border-t border-white/5 px-6\" in:fade>\n\t\t\t\t<div class=\"flex gap-8 pt-4\">\n\t\t\t\t\t{#each categories as category}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tbind:this={categoryRefs[category.id]}\n\t\t\t\t\t\t\tonclick={() => selectCategory(category.id)}\n\t\t\t\t\t\t\tclass=\"relative shrink-0 pb-3 text-[10px] font-black tracking-[0.2em] uppercase transition-all\n                     {activeCategory === category.id\n\t\t\t\t\t\t\t\t? 'text-white'\n\t\t\t\t\t\t\t\t: 'text-zinc-500 hover:text-zinc-300'}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{category.name}\n\t\t\t\t\t\t\t{#if activeCategory === category.id}\n\t\t\t\t\t\t\t\t<div class=\"absolute inset-x-0 bottom-0 h-[2px] bg-orange-500\" in:fade></div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t{/each}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\n\t<!-- SCROLLABLE CONTENT AREA -->\n\t<div\n\t\tbind:this={scrollContainer}\n\t\tontouchstart={handleTouchStart}\n\t\tontouchmove={handleTouchMove}\n\t\tontouchend={handleTouchEnd}\n\t\tclass=\"no-scrollbar relative h-full w-full overflow-y-auto pt-[180px] select-none\"\n\t\tstyle=\"-webkit-touch-callout: none;\"\n\t>\n\t\t{#if currentPage === 'menu'}\n\t\t\t<!-- Menu Content -->\n\t\t\t<main class=\"relative z-20 min-h-screen bg-[#16161a] px-6 pt-8 pb-32\">\n\t\t\t\t<!-- Noise texture layer for content -->\n\t\t\t\t<div\n\t\t\t\t\tclass=\"pointer-events-none absolute inset-0 z-0 opacity-[0.12] mix-blend-overlay\"\n\t\t\t\t\tstyle=\"background-image: url(&quot;data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/feTurbulence%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E&quot;);\"\n\t\t\t\t></div>\n\n\t\t\t\t{#key activeCategory}\n\t\t\t\t\t<div\n\t\t\t\t\t\tin:fly={{ y: 20, duration: 400, delay: 100, easing: cubicOut }}\n\t\t\t\t\t\tclass=\"animate-initial-bounce space-y-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if currentCat}\n\t\t\t\t\t\t\t<div class=\"grid gap-4\">\n\t\t\t\t\t\t\t\t{#each currentCat.dishes as dish, i}\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tin:fly={{ y: 30, duration: 600, delay: i * 50, easing: cubicOut }}\n\t\t\t\t\t\t\t\t\t\tclass=\"group relative cursor-pointer overflow-hidden rounded-[2.5rem] border-[1.5px] border-amber-500/50 bg-white/[0.03] p-7 shadow-lg\n                               shadow-black/20 transition-all duration-300\n                               ease-out hover:bg-white/[0.06] active:scale-[0.97] active:border-amber-400\n                               active:bg-white/[0.08] active:shadow-[0_0_25px_rgba(245,158,11,0.2)]\"\n\t\t\t\t\t\t\t\t\t\tonclick={() => openDish(dish)}\n\t\t\t\t\t\t\t\t\t\tonpointerdown={() => startHaptic(dish)}\n\t\t\t\t\t\t\t\t\t\tonpointerup={stopHaptic}\n\t\t\t\t\t\t\t\t\t\tonpointerleave={stopHaptic}\n\t\t\t\t\t\t\t\t\t\tonkeydown={(e) => e.key === 'Enter' && openDish(dish)}\n\t\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<!-- Subtle Card Inner Gradient -->\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute inset-0 bg-gradient-to-br from-white/[0.02] to-transparent opacity-0 transition-opacity duration-700 group-hover:opacity-100\"\n\t\t\t\t\t\t\t\t\t\t></div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"relative z-10 flex items-start justify-between gap-6\">\n\t\t\t\t\t\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"max-w-[75%] text-[1.35rem] leading-tight font-black tracking-tight text-white transition-colors group-hover:text-amber-400\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{dish.name}\n\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex flex-col items-end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-3xl font-black tracking-tighter text-orange-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{dish.price}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{#if dish.image_url}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mt-1 opacity-40 transition-opacity group-hover:opacity-70\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Camera class=\"h-4 w-4 text-amber-500\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t{#if dish.description}\n\t\t\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"relative z-10 mt-3 mb-6 line-clamp-3 pr-2 text-[0.95rem] leading-relaxed font-medium text-zinc-300 transition-colors group-hover:text-white\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{dish.description}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"relative z-10 mt-auto flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t{#each dish.allergens || [] as allergenId}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{@const allergen = (data.allergens as any[]).find(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(a: any) => a.id === allergenId\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{#if allergen}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"relative\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonmouseenter={() => (hoveredTag = `${dish.id}-${allergen.id}`)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonmouseleave={() => (hoveredTag = null)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trole=\"note\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"cursor-help rounded-full border border-white/10 bg-white/5 p-2 shadow-lg shadow-black/20 transition-colors group-hover:bg-white/10\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"block text-base leading-none\">{allergen.icon}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if hoveredTag === `${dish.id}-${allergen.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute bottom-full left-1/2 z-[100] mb-2 -translate-x-1/2 transform rounded-lg border border-white/5 bg-zinc-950 px-3 py-1.5 text-[10px] font-bold tracking-widest whitespace-nowrap text-white uppercase shadow-2xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tin:fade={{ duration: 200 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{allergen.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"absolute top-full left-1/2 -mt-1 -translate-x-1/2 transform border-4 border-transparent border-t-zinc-950\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 opacity-30\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"h-1.5 w-1.5 rounded-full bg-orange-500\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"h-1.5 w-1.5 rounded-full bg-zinc-800\"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- Info Footer -->\n\t\t\t\t\t\t\t<div class=\"mt-12 space-y-8\">\n\t\t\t\t\t\t\t\t<!-- Basic Info & Description -->\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"space-y-3 rounded-[2.5rem] border border-orange-500/20 bg-orange-500/10 p-[2.5rem] text-center\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span class=\"text-[10px] font-black tracking-[0.4em] text-orange-500 uppercase\"\n\t\t\t\t\t\t\t\t\t\t>Benvenuti da</span\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<h4 class=\"text-3xl leading-none font-black tracking-tight text-white uppercase\">\n\t\t\t\t\t\t\t\t\t\t{profile.restaurant_name}\n\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\tclass=\"text-[10px] font-bold tracking-[0.2em] text-orange-500 uppercase opacity-80\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tToccca il logo in alto per info e contatti\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\tclass=\"pt-8 pb-12 text-center text-[10px] leading-relaxed font-medium text-zinc-600 opacity-50\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t* Gli ingredienti contrassegnati con asterisco potrebbero contenere ingredienti\n\t\t\t\t\t\t\t\t\tsurgelati. Per informazioni dettagliate sugli allergeni, chiedi al nostro\n\t\t\t\t\t\t\t\t\tpersonale.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- Swipe Hint -->\n\t\t\t\t\t\t\t<div class=\"mt-8 pb-12 text-center\">\n\t\t\t\t\t\t\t\t<p class=\"text-[10px] font-bold tracking-[0.2em] text-zinc-700 uppercase\">\n\t\t\t\t\t\t\t\t\t← Scorri per esplorare le categorie →\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{/key}\n\t\t\t</main>\n\t\t{:else}\n\t\t\t<!-- OTHER PAGES -->\n\t\t\t<div class=\"space-y-12 px-6 py-12\" in:fade>\n\t\t\t\t{#if currentPage === 'events'}\n\t\t\t\t\t<div class=\"space-y-4 text-center\">\n\t\t\t\t\t\t<span class=\"text-[10px] font-black tracking-[0.4em] text-orange-500 uppercase\"\n\t\t\t\t\t\t\t>News & Specialities</span\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<h2 class=\"text-4xl leading-tight font-black tracking-tight text-white\">\n\t\t\t\t\t\t\tCosa bolle in pentola?\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p class=\"mx-auto max-w-[280px] text-sm leading-relaxed font-medium text-zinc-400\">\n\t\t\t\t\t\t\tScopri le nostre iniziative speciali, i menu degustazione e le serate dedicate alla\n\t\t\t\t\t\t\ttradizione.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"space-y-6\">\n\t\t\t\t\t\t<div class=\"group space-y-4 rounded-2xl border border-white/5 bg-white/[0.02] p-6\">\n\t\t\t\t\t\t\t<div class=\"aspect-[16/9] overflow-hidden rounded-lg bg-white/[0.05]\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"flex h-full w-full items-center justify-center bg-gradient-to-br from-amber-900/40 to-[#141417]\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Utensils\n\t\t\t\t\t\t\t\t\t\tclass=\"h-8 w-8 text-amber-600 opacity-40 transition-transform group-hover:scale-110\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\t\t\tclass=\"font-serif text-lg text-white italic transition-colors group-hover:text-amber-500\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tMenu Capodanno 2026\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<p class=\"text-xs leading-relaxed text-neutral-500\">\n\t\t\t\t\t\t\t\t\tUna selezione esclusiva dei nostri piatti iconici rivisitati per la notte più\n\t\t\t\t\t\t\t\t\tmagica dell'anno.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<div class=\"pt-2\">\n\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\tclass=\"border-amber-900/30 bg-amber-600/20 px-2 text-[9px] tracking-widest text-amber-500 uppercase\"\n\t\t\t\t\t\t\t\t\t\t>Presto Disponibile</Badge\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"group space-y-4 rounded-2xl border border-white/5 bg-neutral-900 p-6\">\n\t\t\t\t\t\t\t<div class=\"aspect-[16/9] overflow-hidden rounded-lg bg-neutral-800\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"flex h-full w-full items-center justify-center bg-gradient-to-br from-purple-900/40 to-black\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Clock\n\t\t\t\t\t\t\t\t\t\tclass=\"h-8 w-8 text-purple-600 opacity-40 transition-transform group-hover:scale-110\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\t\t\tclass=\"font-serif text-lg text-white italic transition-colors group-hover:text-amber-500\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tFuori Carta della Settimana\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<p class=\"text-xs leading-relaxed text-neutral-500\">\n\t\t\t\t\t\t\t\t\tOgni martedì il nostro Chef propone un piatto speciale basato sugli ingredienti\n\t\t\t\t\t\t\t\t\tpiù freschi del mercato.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{:else if currentPage === 'contacts'}\n\t\t\t\t\t<div class=\"space-y-12\" in:fly={{ y: 20, duration: 600 }}>\n\t\t\t\t\t\t<div class=\"space-y-4 text-center\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"mx-auto flex h-20 w-20 items-center justify-center rounded-3xl bg-orange-500 shadow-2xl shadow-orange-500/20\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#if profile.logo_url}\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc={profile.logo_url}\n\t\t\t\t\t\t\t\t\t\talt={profile.restaurant_name}\n\t\t\t\t\t\t\t\t\t\tclass=\"h-full w-full rounded-3xl object-cover\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<Utensils class=\"h-10 w-10 text-white\" />\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t\t<h2 class=\"text-4xl leading-tight font-black tracking-tight text-white uppercase\">\n\t\t\t\t\t\t\t\t\t{profile.restaurant_name}\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<span class=\"text-[10px] font-black tracking-[0.4em] text-orange-500 uppercase\"\n\t\t\t\t\t\t\t\t\t>Contatti & Info</span\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p class=\"mx-auto max-w-[280px] text-sm leading-relaxed font-medium text-zinc-400\">\n\t\t\t\t\t\t\t\t{profile.description ||\n\t\t\t\t\t\t\t\t\t'Siamo qui per accoglierti. Trova tutte le informazioni per raggiungerci e contattarci.'}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"grid grid-cols-1 gap-4\">\n\t\t\t\t\t\t\t<!-- Location Card -->\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"space-y-6 rounded-[2.5rem] border border-white/[0.05] bg-white/[0.03] p-8\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"flex items-center gap-4 text-orange-500\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/5 text-orange-500\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<MapPin size={24} />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p class=\"text-[10px] font-black tracking-widest text-zinc-500 uppercase\">\n\t\t\t\t\t\t\t\t\t\t\tDove trovarci\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p class=\"text-lg font-black text-white\">\n\t\t\t\t\t\t\t\t\t\t\t{profile.address || 'Indirizzo non specificato'}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{#if profile.address}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref=\"https://www.google.com/maps/search/?api=1&query={encodeURIComponent(\n\t\t\t\t\t\t\t\t\t\t\tprofile.address\n\t\t\t\t\t\t\t\t\t\t)}\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\tclass=\"flex h-14 w-full items-center justify-center gap-2 rounded-2xl border border-white/5 bg-white/5 text-[10px] font-black tracking-[0.2em] text-white uppercase transition-colors hover:bg-white/10\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tApri su Google Maps <ChevronRight size={14} />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- Contacts Grid -->\n\t\t\t\t\t\t\t<div class=\"grid grid-cols-1 gap-4\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"space-y-6 rounded-[2.5rem] border border-white/[0.05] bg-white/[0.03] p-8\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center gap-4 text-orange-500\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass=\"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/5 text-orange-500\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Phone size={24} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"text-[10px] font-black tracking-widest text-zinc-500 uppercase\">\n\t\t\t\t\t\t\t\t\t\t\t\tContatti diretti\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p class=\"text-lg font-black text-white\">{profile.phone || '—'}</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"grid grid-cols-2 gap-3\">\n\t\t\t\t\t\t\t\t\t\t{#if profile.phone}\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"tel:{profile.phone}\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex h-20 flex-col items-center justify-center gap-2 rounded-2xl border border-white/5 bg-white/5 text-white transition-colors hover:bg-white/10\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Phone size={20} class=\"text-orange-500\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-[9px] font-black tracking-widest uppercase\">Chiama</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t{#if profile.whatsapp_number}\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"https://wa.me/39{profile.whatsapp_number\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.toString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t.replace(/\\s+/g, '')}\"\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex h-20 flex-col items-center justify-center gap-2 rounded-2xl border border-emerald-500/10 bg-emerald-500/5 text-emerald-500 transition-colors hover:bg-emerald-500/10\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth=\"20\"\n\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"20\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"2.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t><path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t></path></svg\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-[9px] font-black tracking-widest uppercase\">WhatsApp</span\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!-- Socials & Website -->\n\t\t\t\t\t\t\t<div class=\"rounded-[2.5rem] border border-white/[0.05] bg-white/[0.03] p-8\">\n\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\tclass=\"mb-6 text-center text-[10px] font-black tracking-[0.3em] text-zinc-500 uppercase\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSeguici sui social\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<div class=\"flex justify-center gap-6\">\n\t\t\t\t\t\t\t\t\t{#if profile.instagram_url}\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref={profile.instagram_url}\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"flex h-14 w-14 items-center justify-center rounded-2xl border border-white/5 bg-white/5 text-zinc-400 transition-all hover:bg-pink-500/10 hover:text-pink-500\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Instagram size={28} />\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t{#if profile.facebook_url}\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref={profile.facebook_url}\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"flex h-14 w-14 items-center justify-center rounded-2xl border border-white/5 bg-white/5 text-zinc-400 transition-all hover:bg-blue-500/10 hover:text-blue-500\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Facebook size={28} />\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t{#if profile.website_url}\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref={profile.website_url}\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"flex h-14 w-14 items-center justify-center rounded-2xl border border-white/5 bg-white/5 text-zinc-400 transition-all hover:bg-white/10 hover:text-white\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Globe size={28} />\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"flex justify-center pt-10 opacity-30\">\n\t\t\t\t\t<Utensils class=\"h-6 w-6 text-neutral-500\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</PreviewWrapper>\n\n<!-- TACTILE PEEK OVERLAY (Image Preview on Long Press) -->\n{#if peekedDish}\n\t<div\n\t\tclass=\"pointer-events-none fixed inset-0 z-[100] flex items-center justify-center p-8\"\n\t\ttransition:fade={{ duration: 200 }}\n\t>\n\t\t<!-- Backdrop Blur -->\n\t\t<div class=\"absolute inset-0 bg-black/60 backdrop-blur-md\"></div>\n\n\t\t<!-- The Peek Card -->\n\t\t<div\n\t\t\tclass=\"relative aspect-square w-full max-w-[320px] overflow-hidden rounded-[2rem] border-[2px] border-amber-500/50 bg-[#1a1a1e] shadow-[0_0_50px_rgba(245,158,11,0.3)]\"\n\t\t\tin:scale={{ duration: 400, start: 0.8, easing: backOut }}\n\t\t\tout:scale={{ duration: 200, start: 0.9, easing: cubicOut }}\n\t\t>\n\t\t\t{#if peekedDish.image_url}\n\t\t\t\t<img src={peekedDish.image_url} alt={peekedDish.name} class=\"h-full w-full object-cover\" />\n\n\t\t\t\t<!-- Information Overlay (Only for Images) -->\n\t\t\t\t<div\n\t\t\t\t\tclass=\"absolute inset-x-0 bottom-0 space-y-3 bg-gradient-to-t from-black/95 via-black/80 to-transparent p-6\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex items-center justify-between gap-4\">\n\t\t\t\t\t\t<h4 class=\"text-2xl leading-none font-black tracking-tight text-white\">\n\t\t\t\t\t\t\t{peekedDish.name}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<span class=\"text-3xl font-black text-orange-500 drop-shadow-lg\"\n\t\t\t\t\t\t\t>{peekedDish.price}</span\n\t\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t\t{#if peekedDish.description}\n\t\t\t\t\t\t<p class=\"line-clamp-4 text-sm leading-relaxed font-medium text-zinc-300\">\n\t\t\t\t\t\t\t{peekedDish.description}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t\t<!-- Special Design for No-Image Dishes -->\n\t\t\t\t<div\n\t\t\t\t\tclass=\"relative flex h-full w-full flex-col items-center justify-center overflow-hidden bg-gradient-to-br from-[#1a1a1e] to-[#0d0d0f] p-8 text-center\"\n\t\t\t\t>\n\t\t\t\t\t<!-- Background Decorative Icon -->\n\t\t\t\t\t<Utensils class=\"absolute -top-4 -right-4 h-32 w-32 rotate-12 text-amber-500/5\" />\n\t\t\t\t\t<Utensils class=\"absolute -bottom-8 -left-8 h-40 w-40 -rotate-12 text-amber-500/5\" />\n\n\t\t\t\t\t<div class=\"relative z-10 space-y-6\">\n\t\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t\t<p class=\"text-[10px] font-black tracking-[0.3em] text-amber-500/60 uppercase\">\n\t\t\t\t\t\t\t\tL'Autentico Sapore\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<h4\n\t\t\t\t\t\t\t\tclass=\"mb-2 text-3xl leading-tight font-black tracking-tight text-white uppercase\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{peekedDish.name}\n\t\t\t\t\t\t\t</h4>\n\n\t\t\t\t\t\t\t{#if peekedDish.allergens?.length > 0}\n\t\t\t\t\t\t\t\t<div class=\"mb-4 flex gap-2\">\n\t\t\t\t\t\t\t\t\t{#each peekedDish.allergens as allergenId}\n\t\t\t\t\t\t\t\t\t\t{@const allergen = (data.allergens as any[]).find(\n\t\t\t\t\t\t\t\t\t\t\t(a: any) => a.id === allergenId\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{#if allergen}\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"flex items-center gap-1.5 rounded-full border border-white/10 bg-white/5 px-3 py-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-lg\">{allergen.icon}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-[10px] font-black tracking-wider text-white/50 uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>{allergen.name}</span\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if peekedDish.description}\n\t\t\t\t\t\t\t<p class=\"px-2 text-sm leading-relaxed font-medium text-zinc-400\">\n\t\t\t\t\t\t\t\t{peekedDish.description}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<div class=\"pt-4\">\n\t\t\t\t\t\t\t<span class=\"text-5xl font-black text-orange-500\">{peekedDish.price}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n{/if}\n\n<style>\n\t:global(body) {\n\t\tbackground-color: #0d0d0f;\n\t\toverflow: hidden; /* Hide outer scroll on desktop */\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-webkit-touch-callout: none;\n\t}\n\t.no-scrollbar::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n\t.no-scrollbar {\n\t\t-ms-overflow-style: none;\n\t\tscrollbar-width: none;\n\t}\n\n\t@keyframes initial-bounce {\n\t\t0%,\n\t\t100% {\n\t\t\ttransform: translateX(0);\n\t\t}\n\t\t20% {\n\t\t\ttransform: translateX(-15px);\n\t\t}\n\t\t40% {\n\t\t\ttransform: translateX(10px);\n\t\t}\n\t\t60% {\n\t\t\ttransform: translateX(-5px);\n\t\t}\n\t\t80% {\n\t\t\ttransform: translateX(2px);\n\t\t}\n\t}\n\n\t.animate-initial-bounce {\n\t\tanimation: initial-bounce 1.2s cubic-bezier(0.45, 0, 0.55, 1);\n\t\tanimation-delay: 0.8s; /* Wait for initial fly-in to finish */\n\t}\n</style>\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/+layout.svelte","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[370,373],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[370,373],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script lang=\"ts\">\n\timport './layout.css';\n\timport { invalidate, onNavigate } from '$app/navigation';\n\timport { onMount } from 'svelte';\n\timport type { LayoutData } from './$types';\n\timport { page } from '$app/state';\n\n\timport { QueryClient, QueryClientProvider, HydrationBoundary } from '@tanstack/svelte-query';\n\n\tlet { data, children }: { data: LayoutData; children: any } = $props();\n\tlet session = $derived(data.session);\n\tlet supabase = $derived(data.supabase);\n\n\tconst queryClient = new QueryClient({\n\t\tdefaultOptions: {\n\t\t\tqueries: {\n\t\t\t\tenabled: true,\n\t\t\t\tstaleTime: 1000 * 60 * 5 // 5 minutes default\n\t\t\t}\n\t\t}\n\t});\n\n\tonNavigate((navigation) => {\n\t\tif (!document.startViewTransition) return;\n\n\t\treturn new Promise((resolve) => {\n\t\t\tdocument.startViewTransition(async () => {\n\t\t\t\tresolve();\n\t\t\t\tawait navigation.complete;\n\t\t\t});\n\t\t});\n\t});\n\n\tonMount(() => {\n\t\tconst {\n\t\t\tdata: { subscription }\n\t\t} = supabase.auth.onAuthStateChange((event, _session) => {\n\t\t\tif (_session?.expires_at !== session?.expires_at) {\n\t\t\t\tinvalidate('supabase:auth');\n\t\t\t}\n\t\t});\n\n\t\treturn () => subscription.unsubscribe();\n\t});\n</script>\n\n<QueryClientProvider client={queryClient}>\n\t<HydrationBoundary state={page.data.dehydratedState} {queryClient} options={{}}>\n\t\t{@render children()}\n\t</HydrationBoundary>\n</QueryClientProvider>\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/+layout.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'data' is defined but never used.","line":4,"column":49,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":53}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createBrowserSupabaseClient } from '$lib/supabase';\nimport type { LayoutLoad } from './$types';\n\nexport const load: LayoutLoad = async ({ fetch, data, depends }) => {\n\tdepends('supabase:auth');\n\n\tconst supabase = createBrowserSupabaseClient(fetch);\n\n\tconst {\n\t\tdata: { session }\n\t} = await supabase.auth.getSession();\n\n\treturn {\n\t\tsupabase,\n\t\tsession\n\t};\n};\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/+page.server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/+page.svelte","messages":[{"ruleId":"svelte/no-navigation-without-resolve","severity":2,"message":"Unexpected href link without resolve().","line":17,"column":10,"nodeType":null,"messageId":"linkWithoutResolve","endLine":17,"endColumn":58},{"ruleId":"svelte/no-navigation-without-resolve","severity":2,"message":"Unexpected href link without resolve().","line":24,"column":11,"nodeType":null,"messageId":"linkWithoutResolve","endLine":24,"endColumn":16},{"ruleId":"svelte/no-navigation-without-resolve","severity":2,"message":"Unexpected href link without resolve().","line":37,"column":10,"nodeType":null,"messageId":"linkWithoutResolve","endLine":37,"endColumn":47}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script lang=\"ts\">\n\timport type { PageData } from './$types';\n\tlet { data }: { data: PageData } = $props();\n\tlet profile = $derived(data.profile);\n</script>\n\n<div class=\"flex h-screen w-full flex-col items-center justify-center bg-slate-50 p-4\">\n\t<div class=\"max-w-md space-y-6 text-center\">\n\t\t<h1 class=\"text-4xl font-bold tracking-tight text-slate-900\">go!foodmenu</h1>\n\t\t<p class=\"text-slate-600\">\n\t\t\tIl sistema operativo per il tuo ristorante.\n\t\t\t<br />Scegli dove vuoi andare:\n\t\t</p>\n\n\t\t<div class=\"grid w-full gap-4\">\n\t\t\t<a\n\t\t\t\thref={profile ? `/${profile.slug}` : '/osteria-test'}\n\t\t\t\tclass=\"flex w-full transform items-center justify-center rounded-xl bg-orange-500 p-4 font-semibold text-white shadow-lg transition-all hover:-translate-y-1 hover:bg-orange-600\"\n\t\t\t>\n\t\t\t\t🍕 {profile ? 'Il Mio Menu' : 'Vai al Menu (Cliente)'}\n\t\t\t</a>\n\n\t\t\t<a\n\t\t\t\thref=\"/demo\"\n\t\t\t\tclass=\"flex w-full items-center justify-center rounded-xl border border-orange-200 bg-orange-50 p-4 font-semibold text-orange-600 transition-all hover:bg-orange-100\"\n\t\t\t>\n\t\t\t\t✨ Vedi Demo (Menu Premium)\n\t\t\t</a>\n\n\t\t\t<div class=\"flex items-center gap-4 py-2\">\n\t\t\t\t<div class=\"h-px flex-1 bg-slate-200\"></div>\n\t\t\t\t<span class=\"text-[10px] font-bold tracking-widest text-slate-400 uppercase\">Oppure</span>\n\t\t\t\t<div class=\"h-px flex-1 bg-slate-200\"></div>\n\t\t\t</div>\n\n\t\t\t<a\n\t\t\t\thref={data.user ? '/dashboard' : '/login'}\n\t\t\t\tclass=\"flex w-full items-center justify-center rounded-xl border border-slate-200 bg-white p-4 font-semibold text-slate-700 transition-all hover:border-slate-800\"\n\t\t\t>\n\t\t\t\t{data.user ? '👨‍🍳 Area Ristorante (Admin)' : '🔑 Accedi / Login'}\n\t\t\t</a>\n\t\t</div>\n\n\t\t{#if data.user}\n\t\t\t<p class=\"text-[10px] font-medium text-slate-400\">\n\t\t\t\tSei loggato come <span class=\"font-bold text-slate-600\">{data.user.email}</span>\n\t\t\t</p>\n\t\t{/if}\n\t</div>\n</div>\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/login/+page.server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/login/+page.svelte","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'LogIn' is defined but never used.","line":2,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":2,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'data' is assigned a value but never used.","line":6,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":12},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":37,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1223,1226],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1223,1226],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"svelte/no-navigation-without-resolve","severity":2,"message":"Unexpected href link without resolve().","line":108,"column":13,"nodeType":null,"messageId":"linkWithoutResolve","endLine":108,"endColumn":29}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<script lang=\"ts\">\n\timport { LogIn, Mail, Lock } from 'lucide-svelte';\n\timport { enhance } from '$app/forms';\n\timport type { PageData } from './$types';\n\n\tlet { data }: { data: PageData } = $props();\n\t// We don't actually need 'supabase' here for the form since we use 'enhance' which posts to server actions.\n\t// But if we did, we'd use data.supabase\n\n\tlet email = $state('');\n\tlet password = $state('');\n\tlet loading = $state(false);\n\tlet errorMsg = $state('');\n</script>\n\n<div class=\"flex min-h-screen items-center justify-center bg-slate-50 p-6\">\n\t<div\n\t\tclass=\"w-full max-w-md space-y-8 rounded-[3rem] border border-slate-100 bg-white p-12 shadow-xl\"\n\t>\n\t\t<div class=\"space-y-2 text-center\">\n\t\t\t<div class=\"mb-4\">\n\t\t\t\t<img src=\"/logo.svg\" alt=\"go!foodmenu\" class=\"mx-auto h-16 w-auto\" />\n\t\t\t</div>\n\t\t\t<h1 class=\"text-3xl font-black tracking-tight text-slate-900\">Benvenuto</h1>\n\t\t\t<p class=\"font-medium text-slate-400\">Accedi per gestire il tuo menu digitale</p>\n\t\t</div>\n\n\t\t<form\n\t\t\tmethod=\"POST\"\n\t\t\tclass=\"space-y-6\"\n\t\t\tuse:enhance={() => {\n\t\t\t\tloading = true;\n\t\t\t\terrorMsg = '';\n\t\t\t\treturn async ({ result, update }) => {\n\t\t\t\t\tloading = false;\n\t\t\t\t\tif (result.type === 'failure') {\n\t\t\t\t\t\terrorMsg = (result.data as any)?.error || 'Credenziali non valide';\n\t\t\t\t\t} else if (result.type === 'error') {\n\t\t\t\t\t\terrorMsg = 'Errore del server. Riprova più tardi.';\n\t\t\t\t\t}\n\t\t\t\t\tawait update();\n\t\t\t\t};\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\"space-y-4\">\n\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t<label for=\"email\" class=\"text-xs font-black tracking-widest text-slate-400 uppercase\"\n\t\t\t\t\t\t>Email</label\n\t\t\t\t\t>\n\t\t\t\t\t<div class=\"relative\">\n\t\t\t\t\t\t<Mail class=\"absolute top-1/2 left-4 -translate-y-1/2 text-slate-300\" size={20} />\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\tbind:value={email}\n\t\t\t\t\t\t\tplaceholder=\"latua@email.com\"\n\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border-2 border-transparent bg-slate-50 py-4 pr-4 pl-12 font-bold transition-all outline-none focus:border-orange-500\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t<label for=\"password\" class=\"text-xs font-black tracking-widest text-slate-400 uppercase\"\n\t\t\t\t\t\t>Password</label\n\t\t\t\t\t>\n\t\t\t\t\t<div class=\"relative\">\n\t\t\t\t\t\t<Lock class=\"absolute top-1/2 left-4 -translate-y-1/2 text-slate-300\" size={20} />\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tbind:value={password}\n\t\t\t\t\t\t\tplaceholder=\"••••••••\"\n\t\t\t\t\t\t\tclass=\"w-full rounded-2xl border-2 border-transparent bg-slate-50 py-4 pr-4 pl-12 font-bold transition-all outline-none focus:border-orange-500\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{#if errorMsg}\n\t\t\t\t<p\n\t\t\t\t\tclass=\"rounded-xl border border-red-100 bg-red-50 py-3 text-center text-sm font-bold text-red-500\"\n\t\t\t\t>\n\t\t\t\t\t{errorMsg}\n\t\t\t\t</p>\n\t\t\t{/if}\n\n\t\t\t<button\n\t\t\t\ttype=\"submit\"\n\t\t\t\tdisabled={loading}\n\t\t\t\tclass=\"flex w-full items-center justify-center gap-3 rounded-2xl bg-slate-900 py-5 text-lg font-black text-white shadow-xl shadow-slate-900/10 transition-all hover:bg-slate-800 disabled:opacity-50\"\n\t\t\t>\n\t\t\t\t{#if loading}\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"h-6 w-6 animate-spin rounded-full border-4 border-white/20 border-t-white\"\n\t\t\t\t\t></div>\n\t\t\t\t{:else}\n\t\t\t\t\tAccedi\n\t\t\t\t{/if}\n\t\t\t</button>\n\n\t\t\t<div class=\"pt-4 text-center\">\n\t\t\t\t<p class=\"text-sm font-medium text-slate-400\">\n\t\t\t\t\tDimenticato la password? <a\n\t\t\t\t\t\thref=\"/forgot-password\"\n\t\t\t\t\t\tclass=\"font-bold text-orange-500 hover:underline\">Recuperala qui</a\n\t\t\t\t\t>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n</div>\n","usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/src/routes/logout/+page.server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/svelte.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"/home/dimagio/Applications/gofood/go!foodmenu/gofoodmenu/vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
